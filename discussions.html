<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Chat Rooms - Red Hatters WA</title>
	<meta name="description" content="Join real-time chat rooms and connect with Red Hatters worldwide through our member discussions and community conversations." />
	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
	
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	
	<!-- Bootstrap 5 CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<!-- Header -->
	<header class="header" id="header">
		<nav class="nav container" role="navigation" aria-label="Main navigation">
			<a href="index.html" class="logo" aria-label="Red Hatters WA Home">
				<img src="images/RHSWA-horizontal.png" alt="Red Hatters WA" />
			</a>
			<ul class="nav-menu" role="menubar">
				<li role="none"><a href="index.html" role="menuitem">Home</a></li>
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">About</a>
					<ul class="dropdown-menu" role="menu" aria-label="About submenu">
						<li role="none"><a href="about-us.html" role="menuitem">About Us</a></li>
						<li role="none"><a href="benefits.html" role="menuitem">Benefits</a></li>
						<li role="none"><a href="faq.html" role="menuitem">FAQ</a></li>
						<li role="none"><a href="offers.html" role="menuitem">Offers</a></li>
					</ul>
				</li>
				<li role="none"><a href="donate.html" role="menuitem">Donate</a></li>
				<li role="none"><a href="contact-us.html" role="menuitem">Contact Us</a></li>
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">Members</a>
					<ul class="dropdown-menu" role="menu" aria-label="Members submenu">
						<li role="none"><a href="member-role.html" role="menuitem">Member Role</a></li>
						<li role="none"><a href="discussions.html" role="menuitem" aria-current="page">Discussions</a></li>
						<li role="none"><a href="news-notes.html" role="menuitem">News and Notes</a></li>
						<li role="none"><a href="members-corner.html" role="menuitem">Members' Corner</a></li>
						<li role="none"><a href="website-guide.html" role="menuitem">Website Guide</a></li>
						<li role="none"><a href="member-handbook.html" role="menuitem">Member Handbook</a></li>
						<li role="none"><a href="account.html" role="menuitem">My Account</a></li>
						<li role="none"><a href="wa-chapters.html" role="menuitem">WA Chapters</a></li>
						<li role="none"><a href="offers.html" role="menuitem">Offers</a></li>
						<li role="none"><a href="member-search.html" role="menuitem">Member Search</a></li>
						<li role="none"><a href="rules-of-association.html" role="menuitem">Rules of Association</a></li>
					</ul>
				</li>
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">Resources</a>
					<ul class="dropdown-menu" role="menu" aria-label="Resources submenu">
						<li role="none"><a href="resources.html" role="menuitem">Resources</a></li>
						<li role="none"><a href="events.html" role="menuitem">Events</a></li>
						<li role="none"><a href="newsletter.html" role="menuitem">Newsletter</a></li>
						<li role="none"><a href="games.html" role="menuitem">Games</a></li>
						<li role="none"><a href="crafts.html" role="menuitem">Crafts</a></li>
						<li role="none"><a href="printables.html" role="menuitem">Printables</a></li>
						<li role="none"><a href="hoot-ideas.html" role="menuitem">Hoot Ideas</a></li>
						<li role="none"><a href="emergency-contact.html" role="menuitem">Emergency Contact</a></li>
						<li role="none"><a href="hatter-commandments.html" role="menuitem">Hatter Commandments & Creed</a></li>
						<li role="none"><a href="hatter-customs.html" role="menuitem">Hatter Customs</a></li>
						<li role="none"><a href="queens-coronation.html" role="menuitem">Queen's Coronation Ceremony</a></li>
						<li role="none"><a href="member-role.html" role="menuitem">Member Role</a></li>
						<li role="none"><a href="website-guide.html" role="menuitem">Website Guide</a></li>
						<li role="none"><a href="member-handbook.html" role="menuitem">Member Handbook</a></li>
						<li role="none"><a href="offers.html" role="menuitem">Offers</a></li>
						<li role="none"><a href="chapter-organisation.html" role="menuitem">Chapter Organisation & Administration</a></li>
					</ul>
				</li>
			</ul>
			<div class="nav-buttons">
				<div class="user-display"></div>
				<div class="logout-section">
					<a href="#" class="logout-button" onclick="AuthManager.logout()" aria-label="Sign out">Logout</a>
				</div>
			</div>
		</nav>
	</header>

	<!-- Chat Room Interface -->
	<main class="chat-main">
		<div class="chat-container">
			<!-- Chat Room Sidebar -->
			<div class="chat-sidebar">
				<div class="sidebar-header">
					<h3><i class="fas fa-comments"></i> Chat Rooms</h3>
					<button class="btn btn-sm btn-primary" id="create-room-btn">
						<i class="fas fa-plus"></i> New Room
					</button>
				</div>
				
				<div class="room-list">
					<div class="room-item active" data-room="general">
						<div class="room-icon">ğŸ’¬</div>
						<div class="room-info">
							<h4>General Chat</h4>
							<p>245 members online</p>
						</div>
						<div class="room-status online"></div>
					</div>
					
					<div class="room-item" data-room="events">
						<div class="room-icon">ğŸ‰</div>
						<div class="room-info">
							<h4>Events & Activities</h4>
							<p>89 members online</p>
						</div>
						<div class="room-status online"></div>
		</div>
					
					<div class="room-item" data-room="crafts">
						<div class="room-icon">ğŸ¨</div>
						<div class="room-info">
							<h4>Crafts & DIY</h4>
							<p>156 members online</p>
						</div>
						<div class="room-status online"></div>
			</div>
					
					<div class="room-item" data-room="recipes">
						<div class="room-icon">ğŸ°</div>
						<div class="room-info">
							<h4>Recipes & Cooking</h4>
							<p>78 members online</p>
					</div>
						<div class="room-status online"></div>
				</div>
					
					<div class="room-item" data-room="travel">
						<div class="room-icon">âœˆï¸</div>
						<div class="room-info">
							<h4>Travel & Adventures</h4>
							<p>112 members online</p>
					</div>
						<div class="room-status online"></div>
				</div>
					
					<div class="room-item" data-room="wellness">
						<div class="room-icon">ğŸ’ª</div>
						<div class="room-info">
							<h4>Health & Wellness</h4>
							<p>67 members online</p>
					</div>
						<div class="room-status online"></div>
				</div>
					</div>
				
				<div class="online-members">
					<h4><i class="fas fa-users"></i> Online Now</h4>
					<div class="member-list">
						<div class="member-item">
							<div class="member-avatar">M</div>
							<span>Margaret</span>
							<div class="member-status online"></div>
				</div>
						<div class="member-item">
							<div class="member-avatar">S</div>
							<span>Susan</span>
							<div class="member-status online"></div>
					</div>
						<div class="member-item">
							<div class="member-avatar">J</div>
							<span>Janet</span>
							<div class="member-status online"></div>
				</div>
						<div class="member-item">
							<div class="member-avatar">L</div>
							<span>Linda</span>
							<div class="member-status away"></div>
					</div>
				</div>
			</div>
		</div>
			
			<!-- Chat Area -->
			<div class="chat-area">
				<div class="chat-header">
					<div class="room-title">
						<h2>ğŸ’¬ General Chat</h2>
						<p>245 members â€¢ 1,892 messages today</p>
					</div>
					<div class="chat-actions">
						<button class="btn btn-sm btn-secondary" id="room-settings">
							<i class="fas fa-cog"></i>
						</button>
						<button class="btn btn-sm btn-secondary" id="room-info">
							<i class="fas fa-info-circle"></i>
						</button>
					</div>
			</div>
				
				<div class="chat-messages" id="chat-messages">
					<div class="message-item">
						<div class="message-avatar">M</div>
						<div class="message-content">
							<div class="message-header">
								<span class="message-author">Margaret</span>
								<span class="message-time">2:30 PM</span>
					</div>
							<div class="message-text">
								Welcome to our chat room! I'm so excited to connect with all of you amazing Red Hatters! ğŸ©
						</div>
					</div>
				</div>
					
					<div class="message-item">
						<div class="message-avatar">S</div>
						<div class="message-content">
							<div class="message-header">
								<span class="message-author">Susan</span>
								<span class="message-time">2:32 PM</span>
					</div>
							<div class="message-text">
								Hello everyone! I'm Susan from the Perth chapter. Looking forward to our next event! ğŸ’œ
						</div>
					</div>
				</div>
					
					<div class="message-item">
						<div class="message-avatar">J</div>
						<div class="message-content">
							<div class="message-header">
								<span class="message-author">Janet</span>
								<span class="message-time">2:35 PM</span>
					</div>
							<div class="message-text">
								Hi Susan! I'm from the Fremantle chapter. We should definitely coordinate some joint activities! ğŸ‰
						</div>
					</div>
				</div>
					
					<div class="message-item current-user">
						<div class="message-content">
							<div class="message-header">
								<span class="message-author">You</span>
								<span class="message-time">2:37 PM</span>
							</div>
							<div class="message-text">
								That sounds wonderful! I'd love to join in on the fun activities! ğŸ¨
			</div>
		</div>
						<div class="message-avatar">Y</div>
			</div>
				</div>
				
				<div class="chat-input-area">
					<div class="input-container">
						<button class="btn btn-sm btn-secondary" id="attach-file">
							<i class="fas fa-paperclip"></i>
						</button>
						<input type="text" id="message-input" placeholder="Type your message..." maxlength="1000">
						<button class="btn btn-sm btn-secondary" id="emoji-picker">
							<i class="fas fa-smile"></i>
						</button>
						<button class="btn btn-primary" id="send-message">
							<i class="fas fa-paper-plane"></i>
						</button>
				</div>
					<div class="typing-indicator" id="typing-indicator">
						<span>Susan is typing...</span>
				</div>
			</div>
		</div>
			</div>
	</main>

	<!-- Footer -->
	<footer class="footer">
		<div class="container">
		<div class="footer-content">
				<div class="footer-left">
					<div class="footer-logo">
						<img src="images/RHSWA-horizontal.png" alt="Red Hatters WA" />
						<p>Connecting Red Hat Society members across Western Australia through friendship, fun, and community.</p>
					</div>
				</div>
				<div class="footer-center">
					<div class="footer-links">
						<h4>Quick Links</h4>
						<ul>
							<li><a href="index.html">Home</a></li>
							<li><a href="about-us.html">About Us</a></li>
							<li><a href="benefits.html">Benefits</a></li>
							<li><a href="events.html">Events</a></li>
							<li><a href="contact-us.html">Contact</a></li>
						</ul>
					</div>
				</div>
				<div class="footer-right">
					<div class="footer-newsletter">
						<h4>Stay Connected</h4>
						<p>Subscribe to our newsletter for updates and events</p>
						<form class="newsletter-form">
							<input type="email" placeholder="Your email address" required>
							<button type="submit" class="btn btn-primary">Subscribe</button>
						</form>
					</div>
					<div class="footer-social">
						<h4>Follow Us</h4>
				<div class="social-links">
							<a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
					<a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
					<a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
					<a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
				</div>
			</div>
				</div>
			</div>
			<div class="footer-bottom">
				<div class="footer-bottom-content">
					<p>&copy; 2025 Red Hatters WA. All rights reserved.</p>
					<div class="footer-bottom-links">
						<a href="privacy.html">Privacy Policy</a>
						<a href="terms.html">Terms of Service</a>
						<a href="community-guidelines.html">Community Guidelines</a>
			</div>
		</div>
			</div>
		</div>
	</footer>

	<!-- Bootstrap 5 JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	
	<!-- Custom JS -->
	<script src="script.js"></script>
	<script src="config.js"></script>
	
	<!-- Chat Room JavaScript -->
	<script>
		// Chat Room Functionality
		class ChatRoom {
			constructor() {
				this.currentRoom = 'general';
				this.isTyping = false;
				this.typingTimer = null;
				this.init();
			}

			init() {
				this.bindEvents();
				this.loadRoomData(this.currentRoom);
				this.startHeartbeat();
			}

			bindEvents() {
				// Room switching
				document.querySelectorAll('.room-item').forEach(room => {
					room.addEventListener('click', (e) => {
						const roomId = room.dataset.room;
						this.switchRoom(roomId);
					});
				});

				// Message sending
				const messageInput = document.getElementById('message-input');
				const sendButton = document.getElementById('send-message');

				sendButton.addEventListener('click', () => this.sendMessage());
				messageInput.addEventListener('keypress', (e) => {
					if (e.key === 'Enter' && !e.shiftKey) {
						e.preventDefault();
						this.sendMessage();
					}
				});

				// Typing indicator
				messageInput.addEventListener('input', () => {
					this.handleTyping();
				});

				// File attachment
				document.getElementById('attach-file').addEventListener('click', () => {
					this.showFilePicker();
				});

				// Emoji picker
				document.getElementById('emoji-picker').addEventListener('click', () => {
					this.showEmojiPicker();
				});
			}

			switchRoom(roomId) {
				// Update active room
				document.querySelectorAll('.room-item').forEach(room => {
					room.classList.remove('active');
				});
				document.querySelector(`[data-room="${roomId}"]`).classList.add('active');

				this.currentRoom = roomId;
				this.loadRoomData(roomId);
			}

			loadRoomData(roomId) {
				const roomData = this.getRoomData(roomId);
				
				// Update header
				document.querySelector('.room-title h2').textContent = `${roomData.icon} ${roomData.name}`;
				document.querySelector('.room-title p').textContent = `${roomData.members} members â€¢ ${roomData.messages} messages today`;

				// Load messages
				this.loadMessages(roomId);
			}

			getRoomData(roomId) {
				const rooms = {
					general: { name: 'General Chat', icon: 'ğŸ’¬', members: 245, messages: 1892 },
					events: { name: 'Events & Activities', icon: 'ğŸ‰', members: 89, messages: 567 },
					crafts: { name: 'Crafts & DIY', icon: 'ğŸ¨', members: 156, messages: 1234 },
					recipes: { name: 'Recipes & Cooking', icon: 'ğŸ°', members: 78, messages: 445 },
					travel: { name: 'Travel & Adventures', icon: 'âœˆï¸', members: 112, messages: 789 },
					wellness: { name: 'Health & Wellness', icon: 'ğŸ’ª', members: 67, messages: 423 }
				};
				return rooms[roomId] || rooms.general;
			}

			loadMessages(roomId) {
				const messagesContainer = document.getElementById('chat-messages');
				
				// Simulate loading messages for different rooms
				const sampleMessages = this.getSampleMessages(roomId);
				
				messagesContainer.innerHTML = '';
				sampleMessages.forEach(message => {
					messagesContainer.appendChild(this.createMessageElement(message));
				});

				this.scrollToBottom();
			}

			getSampleMessages(roomId) {
				const messageSets = {
					general: [
						{ author: 'Margaret', avatar: 'M', time: '2:30 PM', text: 'Welcome to our chat room! I\'m so excited to connect with all of you amazing Red Hatters! ğŸ©' },
						{ author: 'Susan', avatar: 'S', time: '2:32 PM', text: 'Hello everyone! I\'m Susan from the Perth chapter. Looking forward to our next event! ğŸ’œ' },
						{ author: 'Janet', avatar: 'J', time: '2:35 PM', text: 'Hi Susan! I\'m from the Fremantle chapter. We should definitely coordinate some joint activities! ğŸ‰' }
					],
					events: [
						{ author: 'Linda', avatar: 'L', time: '1:45 PM', text: 'Don\'t forget about our monthly luncheon this Saturday! ğŸ½ï¸' },
						{ author: 'Patricia', avatar: 'P', time: '1:47 PM', text: 'I\'ll be there! Can\'t wait to see everyone! ğŸ’œ' }
					],
					crafts: [
						{ author: 'Rose', avatar: 'R', time: '3:15 PM', text: 'Has anyone tried the new crochet pattern I shared? ğŸ§¶' },
						{ author: 'Diane', avatar: 'D', time: '3:18 PM', text: 'I\'m working on it now! It\'s beautiful! âœ¨' }
					]
				};

				return messageSets[roomId] || messageSets.general;
			}

			createMessageElement(message) {
				const messageDiv = document.createElement('div');
				messageDiv.className = 'message-item';
				
				messageDiv.innerHTML = `
					<div class="message-avatar">${message.avatar}</div>
					<div class="message-content">
						<div class="message-header">
							<span class="message-author">${message.author}</span>
							<span class="message-time">${message.time}</span>
						</div>
						<div class="message-text">${message.text}</div>
					</div>
				`;

				return messageDiv;
			}

			sendMessage() {
				const messageInput = document.getElementById('message-input');
				const message = messageInput.value.trim();

				if (!message) return;

				// Create message element
				const messageDiv = document.createElement('div');
				messageDiv.className = 'message-item current-user';
				messageDiv.innerHTML = `
					<div class="message-content">
						<div class="message-header">
							<span class="message-author">You</span>
							<span class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>
						</div>
						<div class="message-text">${message}</div>
					</div>
					<div class="message-avatar">Y</div>
				`;

				// Add to chat
				document.getElementById('chat-messages').appendChild(messageDiv);
				messageInput.value = '';
				this.scrollToBottom();

				// Simulate response (in real app, this would be handled by WebSocket)
				setTimeout(() => {
					this.simulateResponse();
				}, 1000 + Math.random() * 2000);
			}

			simulateResponse() {
				const responses = [
					'That sounds wonderful!',
					'I completely agree!',
					'Thanks for sharing that!',
					'Great idea!',
					'I\'d love to join in!',
					'That\'s so interesting!'
				];

				const randomResponse = responses[Math.floor(Math.random() * responses.length)];
				const members = ['Margaret', 'Susan', 'Janet', 'Linda', 'Patricia', 'Rose', 'Diane'];
				const randomMember = members[Math.floor(Math.random() * members.length)];

				const messageDiv = document.createElement('div');
				messageDiv.className = 'message-item';
				messageDiv.innerHTML = `
					<div class="message-avatar">${randomMember[0]}</div>
					<div class="message-content">
						<div class="message-header">
							<span class="message-author">${randomMember}</span>
							<span class="message-time">${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>
						</div>
						<div class="message-text">${randomResponse}</div>
					</div>
				`;

				document.getElementById('chat-messages').appendChild(messageDiv);
				this.scrollToBottom();
			}

			handleTyping() {
				if (!this.isTyping) {
					this.isTyping = true;
					// In real app, send typing indicator via WebSocket
				}

				clearTimeout(this.typingTimer);
				this.typingTimer = setTimeout(() => {
					this.isTyping = false;
					// In real app, send stop typing indicator
				}, 1000);
			}

			scrollToBottom() {
				const messagesContainer = document.getElementById('chat-messages');
				messagesContainer.scrollTop = messagesContainer.scrollHeight;
			}

			startHeartbeat() {
				// Simulate online status updates
				setInterval(() => {
					this.updateOnlineStatus();
				}, 30000); // Every 30 seconds
			}

			updateOnlineStatus() {
				// Simulate member status changes
				const statusElements = document.querySelectorAll('.room-status, .member-status');
				statusElements.forEach(status => {
					if (Math.random() < 0.1) { // 10% chance to change status
						status.classList.toggle('online');
						status.classList.toggle('away');
					}
				});
			}

			showFilePicker() {
				// In real app, this would open file picker
				Utils.showToast('File attachment feature coming soon!', 'info');
			}

			showEmojiPicker() {
				// In real app, this would show emoji picker
				const emojis = ['ğŸ˜Š', 'â¤ï¸', 'ğŸ‰', 'ğŸ©', 'ğŸ’œ', 'âœ¨', 'ğŸŒŸ', 'ğŸ‘'];
				const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
				
				const messageInput = document.getElementById('message-input');
				messageInput.value += randomEmoji;
				messageInput.focus();
			}
		}

		// Initialize chat room when page loads
		document.addEventListener('DOMContentLoaded', () => {
			new ChatRoom();
		});
	</script>
</body>
</html>
