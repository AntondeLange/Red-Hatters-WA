<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>News and Notes - Red Hatters WA</title>
	<meta name="description" content="Stay updated with the latest news, announcements, and notes from the Red Hat Society. Member updates, chapter news, and important information." />
	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
	
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	
	<!-- Custom CSS -->
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<!-- Header -->
	<header class="header" id="header">
		<nav class="nav container" role="navigation" aria-label="Main navigation">
			<a href="index.html" class="logo" aria-label="Red Hatters WA Home">
				<img src="images/RHSWA-horizontal.png" alt="Red Hatters WA" />
			</a>
			<ul class="nav-menu" role="menubar">
				<li role="none"><a href="index.html" role="menuitem">Home</a></li>
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">About</a>
					<ul class="dropdown-menu" role="menu" aria-label="About submenu">
						<li role="none"><a href="about-us.html" role="menuitem">About Us</a></li>
						<li role="none"><a href="benefits.html" role="menuitem">Benefits</a></li>
						<li role="none"><a href="history.html" role="menuitem">History</a></li>
						<li role="none"><a href="pinkhatters.html" role="menuitem">Pink Hatters</a></li>
						<li role="none"><a href="faq.html" role="menuitem">FAQ</a></li>
						<li role="none"><a href="donate.html" role="menuitem">Donate</a></li>
						<li role="none"><a href="contact-us.html" role="menuitem">Contact Us</a></li>
					</ul>
				</li>
				<!-- Member-only navigation -->
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">Community</a>
					<ul class="dropdown-menu" role="menu" aria-label="Community submenu">
						<li role="none"><a href="members-corner.html" role="menuitem">Members' Corner</a></li>
						<li role="none"><a href="events.html" role="menuitem">Events</a></li>
						<li role="none"><a href="discussions.html" role="menuitem">Discussions</a></li>
						<li role="none"><a href="news-notes.html" role="menuitem" aria-current="page">News and Notes</a></li>
						<li role="none"><a href="newsletter.html" role="menuitem">Newsletter</a></li>
						<li role="none"><a href="website-guide.html" role="menuitem">Website Guide</a></li>
						<li role="none"><a href="offers.html" role="menuitem">Shops & Offers</a></li>
					</ul>
				</li>
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">Organisation & Administration</a>
					<ul class="dropdown-menu" role="menu" aria-label="Organisation & Administration submenu">
						<li role="none"><a href="hatter-customs.html" role="menuitem">Hatter Customs</a></li>
						<li role="none"><a href="rules-of-association.html" role="menuitem">Rules of Association</a></li>
						<li role="none"><a href="member-role.html" role="menuitem">Member Role</a></li>
						<li role="none"><a href="member-handbook.html" role="menuitem">Member Handbook</a></li>
						<li role="none"><a href="emergency-contact.html" role="menuitem">Emergency Contact</a></li>
						<li role="none"><a href="member-search.html" role="menuitem">Member Search</a></li>
						<li role="none"><a href="wa-chapters.html" role="menuitem">WA Chapters</a></li>
					</ul>
				</li>
				<li role="none"><a href="resources.html" role="menuitem">Resources</a></li>
			</ul>
			<div class="nav-buttons">
				<div class="user-display"></div>
				<div class="member-split-button">
					<a href="account.html" class="account-button" aria-label="My Account">My Account</a>
					<a href="#" class="logout-button" onclick="AuthManager.logout()" aria-label="Sign out">Logout</a>
				</div>
			</div>
		</nav>
	</header>

	<!-- Hero Section -->
	<section class="hero">
		<div class="container">
			<h1>News and Notes</h1>
			<p>Stay updated with the latest news, announcements, and notes from the Red Hat Society. Member updates, chapter news, and important information.</p>
		</div>
	</section>

	<!-- Latest News Section -->
	<section class="content-section">
		<div class="container">
			<div class="section-header">
				<h2>Latest News</h2>
				<p>Important updates and announcements from our community</p>
			</div>
			<div class="news-grid">
				<div class="news-item featured">
					<div class="news-image">
						<img src="images/IMG_5259.jpg" alt="Featured News">
						<div class="news-badge">Featured</div>
					</div>
					<div class="news-content">
						<div class="news-meta">
							<span class="news-date">December 15, 2024</span>
							<span class="news-category">Announcement</span>
						</div>
						<h3>Annual Red Hat Society Convention 2025</h3>
						<p>We're excited to announce that the 2025 Annual Convention will be held in Perth! Join us for three days of fun, friendship, and fabulous activities. Early bird registration is now open.</p>
						<a href="#" class="btn btn-primary">Read More</a>
					</div>
				</div>
				<div class="news-item">
					<div class="news-image">
						<img src="images/IMG_5259.jpg" alt="News Image">
					</div>
					<div class="news-content">
						<div class="news-meta">
							<span class="news-date">December 10, 2024</span>
							<span class="news-category">Chapter News</span>
						</div>
						<h3>New Chapter Launched in Bunbury</h3>
						<p>The Bunbury Belles chapter is officially launched! Welcome to all our new members in the beautiful South West region.</p>
						<a href="#" class="btn btn-primary">Read More</a>
					</div>
				</div>
				<div class="news-item">
					<div class="news-image">
						<img src="images/IMG_5259.jpg" alt="News Image">
					</div>
					<div class="news-content">
						<div class="news-meta">
							<span class="news-date">December 5, 2024</span>
							<span class="news-category">Event</span>
						</div>
						<h3>Holiday High Tea Success</h3>
						<p>Our annual holiday high tea was a tremendous success with over 200 members attending. Thank you to everyone who made it such a special event!</p>
						<a href="#" class="btn btn-primary">Read More</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Member Updates Section -->
	<section class="content-section" style="background: var(--light-gray);">
		<div class="container">
			<div class="section-header">
				<h2>Member Updates</h2>
				<p>Celebrating our members' achievements and milestones</p>
			</div>
			<div class="features-grid">
				<div class="card">
					<div class="member-update">
						<div class="update-avatar">
							<img src="images/IMG_5259.jpg" alt="Member" class="avatar-img">
						</div>
						<div class="update-content">
							<h3>Congratulations Sarah!</h3>
							<p>Sarah Johnson from Perth Royal Chapter celebrated her 5th anniversary with the Red Hat Society. Thank you for your dedication and friendship!</p>
							<span class="update-date">December 12, 2024</span>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="member-update">
						<div class="update-avatar">
							<img src="images/IMG_5259.jpg" alt="Member" class="avatar-img">
						</div>
						<div class="update-content">
							<h3>New Chapter Queen</h3>
							<p>Margaret Smith has been elected as the new Queen of the Fremantle Fun Chapter. We wish her all the best in her new role!</p>
							<span class="update-date">December 8, 2024</span>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="member-update">
						<div class="update-avatar">
							<img src="images/IMG_5259.jpg" alt="Member" class="avatar-img">
						</div>
						<div class="update-content">
							<h3>Volunteer Recognition</h3>
							<p>Linda Brown received recognition for her outstanding volunteer work organizing community events. Thank you for your service!</p>
							<span class="update-date">December 3, 2024</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Important Announcements Section -->
	<section class="content-section">
		<div class="container">
			<div class="section-header">
				<h2>Important Announcements</h2>
				<p>Please read these important updates for all members</p>
			</div>
			<div class="announcements-list">
				<div class="announcement-item">
					<div class="announcement-icon">
						<i class="fas fa-exclamation-triangle"></i>
					</div>
					<div class="announcement-content">
						<h3>Website Maintenance Scheduled</h3>
						<p>Our website will be undergoing maintenance on Sunday, December 22nd from 2:00 AM to 6:00 AM. During this time, some features may be temporarily unavailable.</p>
						<span class="announcement-date">Posted: December 18, 2024</span>
					</div>
				</div>
				<div class="announcement-item">
					<div class="announcement-icon">
						<i class="fas fa-info-circle"></i>
					</div>
					<div class="announcement-content">
						<h3>New Member Portal Features</h3>
						<p>We've added new features to the member portal including event RSVP tracking and chapter communication tools. Check out the updated interface!</p>
						<span class="announcement-date">Posted: December 15, 2024</span>
					</div>
				</div>
				<div class="announcement-item">
					<div class="announcement-icon">
						<i class="fas fa-calendar-alt"></i>
					</div>
					<div class="announcement-content">
						<h3>2025 Event Calendar Available</h3>
						<p>The complete 2025 event calendar is now available in the Events section. Mark your calendars for exciting upcoming activities!</p>
						<span class="announcement-date">Posted: December 10, 2024</span>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Social Media Links Section -->
	<section class="content-section">
		<div class="container">
			<div class="section-header">
				<h2>Connect with Australian Red Hatters</h2>
				<p>Stay connected with the broader Australian Red Hatting community</p>
			</div>
			<div class="social-media-grid">
				<div class="social-card">
					<div class="social-card-header">
						<i class="fas fa-globe social-icon"></i>
						<h3>Aussie Hatting</h3>
					</div>
					<div class="social-card-content">
						<p>The official Australian Red Hatting resource website featuring events, news, games, crafts, and community information from across Australia.</p>
						<div class="social-links-list">
							<div class="social-link-item">
								<i class="fas fa-calendar-alt"></i>
								<span>National Events & Conventions</span>
							</div>
							<div class="social-link-item">
								<i class="fas fa-gamepad"></i>
								<span>Red Hatter Games & Activities</span>
							</div>
							<div class="social-link-item">
								<i class="fas fa-palette"></i>
								<span>Crafts & Printables</span>
							</div>
							<div class="social-link-item">
								<i class="fas fa-newspaper"></i>
								<span>Monthly Newsletter</span>
							</div>
						</div>
						<a href="https://www.aussiehatting.com/" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
							<i class="fas fa-external-link-alt"></i>
							Visit Aussie Hatting
						</a>
					</div>
				</div>
				
				<div class="social-card">
					<div class="social-card-header">
						<i class="fab fa-facebook social-icon"></i>
						<h3>Australian Hatters Facebook Group</h3>
					</div>
					<div class="social-card-content">
						<p>Join our vibrant Facebook community where Australian Red and Pink Hatters share photos, stories, events, and connect with sisters across the country.</p>
						<div class="social-links-list">
							<div class="social-link-item">
								<i class="fas fa-camera"></i>
								<span>Share Photos & Memories</span>
							</div>
							<div class="social-link-item">
								<i class="fas fa-comments"></i>
								<span>Community Discussions</span>
							</div>
							<div class="social-link-item">
								<i class="fas fa-bullhorn"></i>
								<span>Event Announcements</span>
							</div>
							<div class="social-link-item">
								<i class="fas fa-heart"></i>
								<span>Support & Friendship</span>
							</div>
						</div>
						<a href="https://www.facebook.com/groups/448987471873959" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
							<i class="fab fa-facebook"></i>
							Join Facebook Group
						</a>
					</div>
				</div>
				
				<div class="social-card">
					<div class="social-card-header">
						<i class="fab fa-facebook social-icon"></i>
						<h3>Red Hatters WA Facebook</h3>
					</div>
					<div class="social-card-content">
						<p>Follow our official Red Hatters WA Facebook page for local events, member spotlights, and Western Australian chapter updates.</p>
						<div class="social-links-list">
							<div class="social-link-item">
								<i class="fas fa-map-marker-alt"></i>
								<span>WA Local Events & Meetups</span>
							</div>
							<div class="social-link-item">
								<i class="fas fa-star"></i>
								<span>Member Spotlights & Stories</span>
							</div>
							<div class="social-link-item">
								<i class="fas fa-info-circle"></i>
								<span>Chapter Updates & News</span>
							</div>
							<div class="social-link-item">
								<i class="fas fa-users"></i>
								<span>Community Engagement</span>
							</div>
						</div>
						<a href="https://www.facebook.com/profile.php?id=100064864022790" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
							<i class="fab fa-facebook"></i>
							Follow WA Red Hatters
						</a>
					</div>
				</div>
			</div>
			
			<div class="additional-resources">
				<h3>Additional Australian Red Hatting Resources</h3>
				<div class="resources-grid">
					<div class="resource-item">
						<i class="fas fa-map-marker-alt"></i>
						<h4>State Chapters</h4>
						<p>Connect with Red Hatters in your state through local chapters and events</p>
					</div>
					<div class="resource-item">
						<i class="fas fa-ship"></i>
						<h4>National Conventions</h4>
						<p>Annual gatherings and conventions bringing Hatters together from across Australia</p>
					</div>
					<div class="resource-item">
						<i class="fas fa-gift"></i>
						<h4>Hatter Shopping</h4>
						<p>Specialty stores and online shops for Red Hat accessories and merchandise</p>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- News Submission Form Section -->
	<section class="content-section">
		<div class="container">
			<div class="section-header">
				<h2>Submit News & Notes</h2>
				<p>Share news, announcements, or updates with the Red Hatters WA community. Your submissions will be reviewed and may be featured on this page.</p>
			</div>
			<div class="news-submission-form">
				<div class="card">
					<form id="news-submission-form" class="news-form" novalidate>
						<div class="form-row">
							<div class="form-group">
								<label for="news-title">News Title *</label>
								<input type="text" id="news-title" name="title" required maxlength="100" placeholder="Enter a descriptive title for your news">
								<div class="error-message" id="title-error"></div>
							</div>
							<div class="form-group">
								<label for="news-category">Category *</label>
								<select id="news-category" name="category" required>
									<option value="">Select a category</option>
									<option value="announcement">Important Announcement</option>
									<option value="event">Event News</option>
									<option value="chapter">Chapter Update</option>
									<option value="member">Member Spotlight</option>
									<option value="achievement">Achievement/Celebration</option>
									<option value="general">General News</option>
								</select>
								<div class="error-message" id="category-error"></div>
							</div>
						</div>
						
						<div class="form-group">
							<label for="news-content">News Content *</label>
							<textarea id="news-content" name="content" required maxlength="2000" rows="6" placeholder="Write your news content here. Be clear and informative..."></textarea>
							<div class="char-count">
								<span id="content-count">0</span>/2000 characters
							</div>
							<div class="error-message" id="content-error"></div>
						</div>
						
						<div class="form-row">
							<div class="form-group">
								<label for="news-author">Your Name *</label>
								<input type="text" id="news-author" name="author" required maxlength="50" placeholder="Enter your full name">
								<div class="error-message" id="author-error"></div>
							</div>
							<div class="form-group">
								<label for="news-chapter">Chapter (Optional)</label>
								<input type="text" id="news-chapter" name="chapter" maxlength="50" placeholder="Your chapter name">
								<div class="error-message" id="chapter-error"></div>
							</div>
						</div>
						
						<div class="form-group">
							<label for="news-email">Contact Email *</label>
							<input type="email" id="news-email" name="email" required maxlength="100" placeholder="your.email@example.com">
							<small class="form-help">We'll use this to contact you if we need clarification about your submission.</small>
							<div class="error-message" id="email-error"></div>
						</div>
						
						<div class="form-group">
							<label for="news-attachment">Attach File (Optional)</label>
							<input type="file" id="news-attachment" name="attachment" accept=".jpg,.jpeg,.png,.pdf,.doc,.docx">
							<small class="form-help">Supported formats: JPG, PNG, PDF, DOC, DOCX (Max 5MB)</small>
							<div class="error-message" id="attachment-error"></div>
						</div>
						
						<div class="form-group">
							<label class="checkbox-label">
								<input type="checkbox" id="news-consent" name="consent" required>
								<span class="checkmark"></span>
								I agree to the <a href="terms.html" target="_blank">Terms of Service</a> and <a href="privacy.html" target="_blank">Privacy Policy</a>, and confirm that the information provided is accurate and appropriate for publication.
							</label>
							<div class="error-message" id="consent-error"></div>
						</div>
						
						<div class="form-actions">
							<button type="button" id="reset-news-form" class="btn btn-secondary">Reset Form</button>
							<button type="submit" class="btn btn-primary">
								<i class="fas fa-paper-plane"></i>
								Submit News
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</section>

	<!-- Newsletter Signup Section -->
	<section class="content-section" style="background: var(--light-gray);">
		<div class="container">
			<div class="section-header">
				<h2>Stay Updated</h2>
				<p>Subscribe to our newsletter to receive the latest news and updates directly in your inbox</p>
			</div>
			<div class="newsletter-signup">
				<form class="newsletter-form">
					<input type="email" placeholder="Enter your email address" required>
					<button type="submit" class="btn btn-primary">Subscribe</button>
				</form>
				<p class="newsletter-note">We respect your privacy and will never share your email address.</p>
			</div>
		</div>
	</section>

	<!-- Footer -->
	<footer class="footer">
		<div class="container">
		<div class="footer-content">
			<div class="footer-section footer-social">
				<h3>Connect With Us</h3>
				<div class="social-links">
					<a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
					<a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
					<a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
					<a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
				</div>
				<a href="register.html" class="footer-cta-button">Join Our Community</a>
			</div>
			<div class="footer-section footer-links">
				<h3>Quick Links</h3>
				<div class="quick-links">
					<a href="index.html">Home</a>
					<a href="about-us.html">About Us</a>
					<a href="benefits.html">Benefits</a>
					<a href="faq.html">FAQ</a>
					<a href="wa-chapters.html">WA Chapters</a>
					<a href="events.html">Events</a>
					<a href="resources.html">Resources</a>
					<a href="contact-us.html">Contact Us</a>
				</div>
			</div>
			<div class="footer-section footer-center">
				<img src="images/ARHSWA 1.png" alt="ARHSWA 1 Logo" class="footer-logo-img">
				<p>Red Hatters WA</p>
				<p>Fun • Friendship • Frivolity</p>
			</div>
			<div class="footer-section footer-newsletter">
				<h3>Stay Updated</h3>
				<p>Subscribe to our newsletter for the latest events and news!</p>
				<form class="newsletter-form">
					<input type="email" placeholder="Enter your email" required>
					<button type="submit">Subscribe</button>
				</form>
			</div>
		</div>
			<div class="footer-bottom">
				<p>&copy; <span id="current-year">2025</span> Red Hatters WA. All rights reserved. | <a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Service</a> | <a href="community-guidelines.html">Community Guidelines</a> | <a href="rules-of-association.html">Rules of Association</a></p>
			</div>
		</div>
	</footer>

	<!-- JavaScript -->
	<script>
		// Update current year in footer
		document.getElementById('current-year').textContent = new Date().getFullYear();

		// News Submission Form Handler
		class NewsSubmissionForm {
			constructor() {
				this.form = document.getElementById('news-submission-form');
				this.contentTextarea = document.getElementById('news-content');
				this.charCount = document.getElementById('content-count');
				this.init();
			}

			init() {
				this.bindEvents();
				this.setupCharacterCount();
			}

			bindEvents() {
				// Form submission
				this.form.addEventListener('submit', this.handleSubmit.bind(this));
				
				// Reset form
				document.getElementById('reset-news-form').addEventListener('click', this.resetForm.bind(this));
				
				// Real-time validation
				this.addRealTimeValidation();
				
				// File validation
				document.getElementById('news-attachment').addEventListener('change', this.validateFile.bind(this));
			}

			setupCharacterCount() {
				this.contentTextarea.addEventListener('input', () => {
					const count = this.contentTextarea.value.length;
					this.charCount.textContent = count;
					
					// Change color as approaching limit
					if (count > 1800) {
						this.charCount.style.color = '#e74c3c';
					} else if (count > 1500) {
						this.charCount.style.color = '#f39c12';
					} else {
						this.charCount.style.color = '#7d0091';
					}
				});
			}

			addRealTimeValidation() {
				const fields = this.form.querySelectorAll('input, select, textarea');
				fields.forEach(field => {
					field.addEventListener('blur', () => {
						this.validateField(field);
					});
				});
			}

			validateField(field) {
				const fieldName = field.name;
				const value = field.value.trim();
				const errorElement = document.getElementById(`${fieldName}-error`);
				
				// Clear previous error
				errorElement.textContent = '';
				field.classList.remove('error');

				// Validation rules
				switch (fieldName) {
					case 'title':
						if (!value) {
							this.showError(field, errorElement, 'Title is required');
						} else if (value.length < 5) {
							this.showError(field, errorElement, 'Title must be at least 5 characters');
						}
						break;
					case 'category':
						if (!value) {
							this.showError(field, errorElement, 'Please select a category');
						}
						break;
					case 'content':
						if (!value) {
							this.showError(field, errorElement, 'Content is required');
						} else if (value.length < 20) {
							this.showError(field, errorElement, 'Content must be at least 20 characters');
						}
						break;
					case 'author':
						if (!value) {
							this.showError(field, errorElement, 'Your name is required');
						} else if (value.length < 2) {
							this.showError(field, errorElement, 'Name must be at least 2 characters');
						}
						break;
					case 'email':
						if (!value) {
							this.showError(field, errorElement, 'Email is required');
						} else if (!this.isValidEmail(value)) {
							this.showError(field, errorElement, 'Please enter a valid email address');
						}
						break;
				}
			}

			validateFile(event) {
				const file = event.target.files[0];
				const errorElement = document.getElementById('attachment-error');
				
				if (file) {
					// Check file size (5MB limit)
					if (file.size > 5 * 1024 * 1024) {
						this.showError(event.target, errorElement, 'File size must be less than 5MB');
						event.target.value = '';
						return;
					}
					
					// Check file type
					const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
					if (!allowedTypes.includes(file.type)) {
						this.showError(event.target, errorElement, 'File type not supported. Please use JPG, PNG, PDF, DOC, or DOCX');
						event.target.value = '';
						return;
					}
					
					// Clear error if valid
					errorElement.textContent = '';
					event.target.classList.remove('error');
				}
			}

			showError(field, errorElement, message) {
				errorElement.textContent = message;
				field.classList.add('error');
			}

			isValidEmail(email) {
				const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
				return emailRegex.test(email);
			}

			validateForm() {
				let isValid = true;
				const fields = this.form.querySelectorAll('input[required], select[required], textarea[required]');
				
				fields.forEach(field => {
					this.validateField(field);
					if (field.classList.contains('error')) {
						isValid = false;
					}
				});

				// Check consent checkbox
				const consentCheckbox = document.getElementById('news-consent');
				const consentError = document.getElementById('consent-error');
				if (!consentCheckbox.checked) {
					this.showError(consentCheckbox, consentError, 'You must agree to the terms and conditions');
					isValid = false;
				} else {
					consentError.textContent = '';
					consentCheckbox.classList.remove('error');
				}

				return isValid;
			}

			async handleSubmit(event) {
				event.preventDefault();
				
				if (!this.validateForm()) {
					Utils.showToast('Please correct the errors in the form', 'error');
					return;
				}

				// Show loading state
				const submitBtn = this.form.querySelector('button[type="submit"]');
				const originalText = submitBtn.innerHTML;
				submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
				submitBtn.disabled = true;

				try {
					// Prepare form data
					const formData = new FormData(this.form);
					
					// Add metadata
					formData.append('submission_date', new Date().toISOString());
					formData.append('page', 'news-notes');
					formData.append('user_agent', navigator.userAgent);

					// Submit to backend
					const response = await this.submitToBackend(formData);
					
					if (response.success) {
						Utils.showToast('Thank you! Your news submission has been received and will be reviewed.', 'success');
						this.resetForm();
					} else {
						throw new Error(response.message || 'Submission failed');
					}
				} catch (error) {
					console.error('News submission error:', error);
					Utils.showToast('Sorry, there was an error submitting your news. Please try again.', 'error');
				} finally {
					// Reset button state
					submitBtn.innerHTML = originalText;
					submitBtn.disabled = false;
				}
			}

			async submitToBackend(formData) {
				const config = window.RedHattersConfig?.utils?.getCurrentConfig();
				
				if (config?.useFormspree) {
					// Use Formspree fallback
					return await this.submitToFormspree(formData);
				} else {
					// Use API endpoint
					return await this.submitToAPI(formData);
				}
			}

			async submitToAPI(formData) {
				const apiUrl = window.RedHattersConfig?.utils?.getApiEndpoint('news_submission') || '/api/news-submission';
				
				const response = await fetch(apiUrl, {
					method: 'POST',
					body: formData,
					headers: {
						'X-Requested-With': 'XMLHttpRequest'
					}
				});

				if (!response.ok) {
					throw new Error(`HTTP error! status: ${response.status}`);
				}

				return await response.json();
			}

			async submitToFormspree(formData) {
				// Convert FormData to JSON for Formspree
				const jsonData = {};
				for (let [key, value] of formData.entries()) {
					if (key !== 'attachment') {
						jsonData[key] = value;
					}
				}

				const response = await fetch('https://formspree.io/f/YOUR_NEWS_FORM_ID', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
						'Accept': 'application/json'
					},
					body: JSON.stringify({
						...jsonData,
						_subject: 'News Submission - Red Hatters WA',
						_replyto: jsonData.email,
						_formname: 'News Submission Form'
					})
				});

				if (!response.ok) {
					throw new Error(`Formspree error! status: ${response.status}`);
				}

				return { success: true, message: 'News submitted successfully' };
			}

			resetForm() {
				this.form.reset();
				this.charCount.textContent = '0';
				
				// Clear all errors
				const errorElements = this.form.querySelectorAll('.error-message');
				errorElements.forEach(element => {
					element.textContent = '';
				});
				
				// Remove error classes
				const errorFields = this.form.querySelectorAll('.error');
				errorFields.forEach(field => {
					field.classList.remove('error');
				});
			}
		}

		// Initialize form when page loads
		document.addEventListener('DOMContentLoaded', () => {
			new NewsSubmissionForm();
		});
	</script>
</body>
</html>
