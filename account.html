<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>My Account - Red Hatters WA</title>
	<meta name="description" content="Manage your Red Hatters WA account, update your profile, view your membership details, and access your personal dashboard." />
	
	<!-- Favicon -->
	<link rel="icon" type="image/jpeg" href="images/Australian Red Hat Society – Western Australia.jpg">
	<link rel="shortcut icon" type="image/jpeg" href="images/Australian Red Hat Society – Western Australia.jpg">
	<link rel="apple-touch-icon" href="images/Australian Red Hat Society – Western Australia.jpg">
	
	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
	
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	
	<!-- Bootstrap 5 CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link rel="stylesheet" href="styles.css">
	
	<!-- My Events specific styles -->
	<style>
		.events-content {
			margin-top: 1rem;
		}
		
		.events-tab-content {
			display: none;
		}
		
		.events-tab-content.active {
			display: block;
		}
		
		.no-events {
			text-align: center;
			padding: 2rem;
			color: var(--text-muted);
		}
		
		.no-events p {
			margin-bottom: 1rem;
		}
		
		.event-status {
			padding: 0.25rem 0.75rem;
			border-radius: 20px;
			font-size: 0.85rem;
			font-weight: 600;
			text-transform: uppercase;
		}
		
		.event-status.yes {
			background: var(--success-light);
			color: var(--success-dark);
		}
		
		.event-status.maybe {
			background: var(--warning-light);
			color: var(--warning-dark);
		}
		
		.event-status.no {
			background: var(--danger-light);
			color: var(--danger-dark);
		}
		
		.event-actions {
			display: flex;
			gap: 0.5rem;
			align-items: center;
		}
		
		.rsvp-notification {
			position: fixed;
			top: 20px;
			right: 20px;
			background: var(--success);
			color: white;
			padding: 1rem 1.5rem;
			border-radius: 8px;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
			z-index: 1000;
			animation: slideIn 0.3s ease-out;
		}
		
		@keyframes slideIn {
			from {
				transform: translateX(100%);
				opacity: 0;
			}
			to {
				transform: translateX(0);
				opacity: 1;
			}
		}
		
		/* RSVP Modal Styles */
		.rsvp-modal {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.5);
			display: flex;
			justify-content: center;
			align-items: center;
			z-index: 1000;
		}
		
		.rsvp-modal-content {
			background: white;
			border-radius: 15px;
			padding: 0;
			max-width: 500px;
			width: 90%;
			max-height: 80vh;
			overflow-y: auto;
		}
		
		.rsvp-modal-header {
			background: linear-gradient(135deg, var(--primary-purple), var(--primary-red));
			color: white;
			padding: 1.5rem;
			border-radius: 15px 15px 0 0;
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		
		.rsvp-modal-header h3 {
			margin: 0;
			font-size: 1.5rem;
		}
		
		.rsvp-modal-close {
			background: none;
			border: none;
			color: white;
			font-size: 2rem;
			cursor: pointer;
			padding: 0;
			width: 30px;
			height: 30px;
			display: flex;
			align-items: center;
			justify-content: center;
		}
		
		.rsvp-modal-body {
			padding: 2rem;
		}
		
		.rsvp-modal-body h4 {
			color: var(--primary-purple);
			margin-bottom: 1rem;
		}
		
		.rsvp-status {
			background: var(--light-gray);
			padding: 1rem;
			border-radius: 8px;
			margin: 1rem 0;
		}
		
		.rsvp-actions {
			display: flex;
			gap: 0.5rem;
			margin: 1.5rem 0;
			flex-wrap: wrap;
		}
		
		.rsvp-actions .btn {
			flex: 1;
			min-width: 120px;
		}
		
		.rsvp-attendees {
			margin-top: 1.5rem;
		}
		
		.rsvp-attendees h5 {
			color: var(--primary-purple);
			margin-bottom: 1rem;
		}
		
		.attendees-list {
			max-height: 200px;
			overflow-y: auto;
		}
		
		.attendee-item {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0.5rem;
			border-bottom: 1px solid var(--light-gray);
		}
		
		.attendee-item:last-child {
			border-bottom: none;
		}
		
		.attendee-name {
			font-weight: 500;
		}
		
		.attendee-status {
			padding: 0.25rem 0.5rem;
			border-radius: 12px;
			font-size: 0.8rem;
			font-weight: 600;
			text-transform: uppercase;
		}
		
		.attendee-status.yes {
			background: var(--success-light);
			color: var(--success-dark);
		}
		
		.attendee-status.maybe {
			background: var(--warning-light);
			color: var(--warning-dark);
		}
		
		.attendee-status.no {
			background: var(--danger-light);
			color: var(--danger-dark);
		}
	</style>
</head>
<body>
	<!-- Header -->
	<header class="header" id="header">
		<nav class="nav container" role="navigation" aria-label="Main navigation" id="navigation">
			<a href="index.html" class="logo" aria-label="Red Hatters WA Home">
				<img src="images/RHSWA-horizontal.png" alt="Red Hatters WA" />
			</a>
			<ul class="nav-menu" role="menubar">
				<li role="none"><a href="index.html" role="menuitem">Home</a></li>
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">About</a>
					<ul class="dropdown-menu" role="menu" aria-label="About submenu">
						<li role="none"><a href="about-us.html" role="menuitem">About Us</a></li>
						<li role="none"><a href="benefits.html" role="menuitem">Benefits</a></li>
						<li role="none"><a href="history.html" role="menuitem">History</a></li>
						<li role="none"><a href="pinkhatters.html" role="menuitem">Pink Hatters</a></li>
						<li role="none"><a href="faq.html" role="menuitem">FAQ</a></li>
						<li role="none"><a href="donate.html" role="menuitem">Donate</a></li>
						<li role="none"><a href="contact-us.html" role="menuitem">Contact Us</a></li>
					</ul>
				</li>
				<!-- Member-only navigation -->
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">Community</a>
					<ul class="dropdown-menu" role="menu" aria-label="Community submenu">
						<li role="none"><a href="members-corner.html" role="menuitem">Members' Corner</a></li>
						<li role="none"><a href="events.html" role="menuitem">Events</a></li>
						<li role="none"><a href="discussions.html" role="menuitem">Discussions</a></li>
						<li role="none"><a href="news-notes.html" role="menuitem">News and Notes</a></li>
						<li role="none"><a href="newsletter.html" role="menuitem">Newsletter</a></li>
						<li role="none"><a href="website-guide.html" role="menuitem">Website Guide</a></li>
						<li role="none"><a href="offers.html" role="menuitem">Shops & Offers</a></li>
					</ul>
				</li>
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">Organisation & Administration</a>
					<ul class="dropdown-menu" role="menu" aria-label="Organisation & Administration submenu">
						<li role="none"><a href="hatter-customs.html" role="menuitem">Hatter Customs</a></li>
						<li role="none"><a href="rules-of-association.html" role="menuitem">Rules of Association</a></li>
						<li role="none"><a href="member-role.html" role="menuitem">Member Role</a></li>
						<li role="none"><a href="member-handbook.html" role="menuitem">Member Handbook</a></li>
						<li role="none"><a href="emergency-contact.html" role="menuitem">Emergency Contact</a></li>
						<li role="none"><a href="member-search.html" role="menuitem">Member Search</a></li>
						<li role="none"><a href="wa-chapters.html" role="menuitem">WA Chapters</a></li>
					</ul>
				</li>
				<li role="none"><a href="resources.html" role="menuitem">Resources</a></li>
			</ul>
			<div class="nav-buttons">
				<div class="user-display"></div>
				<div class="member-split-button">
					<a href="account.html" class="account-button" aria-label="My Account" aria-current="page">My Account</a>
					<a href="#" class="logout-button" onclick="AuthManager.logout()" aria-label="Sign out">Logout</a>
				</div>
			</div>
		</nav>
	</header>

	<!-- Hero Section -->
	<section class="hero">
		<div class="container">
			<h1>My Account</h1>
			<p>Manage your Red Hatters WA account, update your profile, view your membership details, and access your personal dashboard.</p>
		</div>
	</section>

	<!-- Account Dashboard Section -->
	<section class="content-section">
		<div class="container">
			<div class="account-dashboard">
				<div class="account-sidebar">
					<div class="profile-card">
						<div class="profile-avatar">
							<img src="images/IMG_5259.jpg" alt="Profile Picture" class="avatar-img">
						</div>
						<div class="profile-info">
							<h3>Sarah Johnson</h3>
							<p>Perth Royal Chapter</p>
							<span class="member-since">Member since 2020</span>
						</div>
					</div>
					<nav class="account-nav">
						<a href="#profile" class="nav-link active">Profile</a>
						<a href="#membership" class="nav-link">Membership</a>
						<a href="#events" class="nav-link">My Events</a>
						<a href="#messages" class="nav-link">Messages</a>
						<a href="#settings" class="nav-link">Settings</a>
					</nav>
				</div>
				<div class="account-content">
					<div class="content-panel active" id="profile">
						<h2>Profile Information</h2>
						<form class="profile-form account-form" novalidate>
							<div class="form-row">
								<div class="form-group">
									<label for="firstName">First Name</label>
									<input type="text" id="firstName" name="firstName" value="Sarah" required>
								</div>
								<div class="form-group">
									<label for="lastName">Last Name</label>
									<input type="text" id="lastName" name="lastName" value="Johnson" required>
								</div>
							</div>
							<div class="form-group">
								<label for="email">Email Address</label>
								<input type="email" id="email" name="email" value="sarah.johnson@email.com" required>
							</div>
							<div class="form-group">
								<label for="phone">Phone Number</label>
								<input type="tel" id="phone" name="phone" value="+61 8 1234 5678">
							</div>
							<div class="form-group">
								<label for="address">Address</label>
								<textarea id="address" name="address" rows="3">123 Red Hat Street, Perth WA 6000</textarea>
							</div>
							<div class="form-group">
								<label for="bio">Bio</label>
								<textarea id="bio" name="bio" rows="4" placeholder="Tell us about yourself...">I love being part of the Red Hat Society! I enjoy crafting, traveling, and spending time with my wonderful Red Hat sisters.</textarea>
							</div>
							<button type="submit" class="btn btn-primary">Update Profile</button>
						</form>
					</div>
					<div class="content-panel" id="membership">
						<h2>Membership Details</h2>
						<div class="membership-info">
							<div class="info-card">
								<h3>Membership Status</h3>
								<p class="status active">Active</p>
								<p>Your membership is current and up to date.</p>
							</div>
							<div class="info-card">
								<h3>Chapter Information</h3>
								<p><strong>Chapter:</strong> Perth Royal Chapter</p>
								<p><strong>Role:</strong> Member at Large</p>
								<p><strong>Joined:</strong> March 2020</p>
							</div>
							<div class="info-card">
								<h3>Membership Renewal</h3>
								<p><strong>Next Due:</strong> March 15, 2025</p>
								<p><strong>Amount:</strong> $25.00 AUD</p>
								<a href="#" class="btn btn-primary">Renew Now</a>
							</div>
						</div>
					</div>
					<div class="content-panel" id="events">
						<h2>My Events</h2>
						<div class="events-tabs">
							<button class="tab-btn active" data-tab="upcoming">Upcoming Events</button>
							<button class="tab-btn" data-tab="past">Past Events</button>
						</div>
						<div class="events-content">
							<div class="events-tab-content active" id="upcoming-events">
								<div class="events-list" id="upcoming-events-list">
									<!-- Dynamic content will be loaded here -->
								</div>
							</div>
							<div class="events-tab-content" id="past-events">
								<div class="events-list" id="past-events-list">
									<!-- Dynamic content will be loaded here -->
								</div>
							</div>
						</div>
					</div>
					<div class="content-panel" id="messages">
						<h2>Messages</h2>
						<div class="messages-list">
							<div class="message-item">
								<div class="message-avatar">
									<img src="images/IMG_5259.jpg" alt="Sender" class="avatar-img">
								</div>
								<div class="message-content">
									<h4>Margaret Smith</h4>
									<p>Thanks for the great craft ideas! Looking forward to our next meeting.</p>
									<span class="message-time">2 hours ago</span>
								</div>
								<div class="message-status">
									<i class="fas fa-circle"></i>
								</div>
							</div>
							<div class="message-item">
								<div class="message-avatar">
									<img src="images/IMG_5259.jpg" alt="Sender" class="avatar-img">
								</div>
								<div class="message-content">
									<h4>Linda Brown</h4>
									<p>Don't forget about our Christmas party this weekend!</p>
									<span class="message-time">1 day ago</span>
								</div>
								<div class="message-status">
									<i class="fas fa-circle"></i>
								</div>
							</div>
						</div>
					</div>
					<div class="content-panel" id="settings">
						<h2>Account Settings</h2>
						<form class="settings-form account-form" novalidate>
							<div class="settings-sections">
								<div class="settings-card">
									<h3>Privacy Settings</h3>
									<div class="setting-item">
										<label>
											<input type="checkbox" name="showProfile" checked>
											Show my profile to other members
										</label>
									</div>
									<div class="setting-item">
										<label>
											<input type="checkbox" name="allowMessages" checked>
											Allow other members to message me
										</label>
									</div>
									<div class="setting-item">
										<label>
											<input type="checkbox" name="showEmail">
											Show my email address publicly
										</label>
									</div>
								</div>
								<div class="settings-card">
									<h3>Notification Preferences</h3>
									<div class="setting-item">
										<label>
											<input type="checkbox" name="emailEvents" checked>
											Email notifications for new events
										</label>
									</div>
									<div class="setting-item">
										<label>
											<input type="checkbox" name="emailMessages" checked>
											Email notifications for messages
										</label>
									</div>
									<div class="setting-item">
										<label>
											<input type="checkbox" name="smsUpdates">
											SMS notifications for urgent updates
										</label>
									</div>
								</div>
							</div>
							<div class="settings-card" style="margin-top: 32px;">
								<h3>Change Password</h3>
								<form class="password-form account-form" novalidate>
								<div class="form-group">
									<label for="currentPassword">Current Password</label>
									<div class="password-input-container">
										<input type="password" id="currentPassword" name="currentPassword">
										<button type="button" class="password-toggle" id="currentPassword-toggle" aria-label="Show current password">
											<i class="fas fa-eye" id="currentPassword-icon"></i>
										</button>
									</div>
								</div>
								<div class="form-group">
									<label for="newPassword">New Password</label>
									<div class="password-input-container">
										<input type="password" id="newPassword" name="newPassword">
										<button type="button" class="password-toggle" id="newPassword-toggle" aria-label="Show new password">
											<i class="fas fa-eye" id="newPassword-icon"></i>
										</button>
									</div>
								</div>
								<div class="form-group">
									<label for="confirmPassword">Confirm New Password</label>
									<div class="password-input-container">
										<input type="password" id="confirmPassword" name="confirmPassword">
										<button type="button" class="password-toggle" id="confirmPassword-toggle" aria-label="Show confirm password">
											<i class="fas fa-eye" id="confirmPassword-icon"></i>
										</button>
									</div>
								</div>
								<button type="submit" class="btn btn-primary">Change Password</button>
								</form>
							</div>
							<button type="submit" class="btn btn-primary" style="margin-top: 2rem;">Save All Settings</button>
						</form>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Footer -->
	<footer class="footer">
		<div class="container">
		<div class="footer-content">
			<div class="footer-section footer-social">
				<h3>Connect With Us</h3>
				<div class="social-links">
					<a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
					<a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
					<a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
					<a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
				</div>
				<a href="register.html" class="footer-cta-button">Join Our Community</a>
			</div>
			<div class="footer-section footer-links">
				<h3>Quick Links</h3>
				<div class="quick-links">
					<a href="index.html">Home</a>
					<a href="about-us.html">About Us</a>
					<a href="benefits.html">Benefits</a>
					<a href="faq.html">FAQ</a>
					<a href="wa-chapters.html">WA Chapters</a>
					<a href="events.html">Events</a>
					<a href="resources.html">Resources</a>
					<a href="contact-us.html">Contact Us</a>
				</div>
			</div>
			<div class="footer-section footer-center">
				<img src="images/ARHSWA 1.png" alt="ARHSWA 1 Logo" class="footer-logo-img">
				<p>Red Hatters WA</p>
				<p>Fun • Friendship • Frivolity</p>
			</div>
			<div class="footer-section footer-newsletter">
				<h3>Stay Updated</h3>
				<p>Subscribe to our newsletter for the latest events and news!</p>
				<form class="newsletter-form">
					<input type="email" placeholder="Enter your email" required>
					<button type="submit">Subscribe</button>
				</form>
			</div>
		</div>
			<div class="footer-bottom">
				<p>&copy; <span id="current-year">2025</span> Red Hatters WA. All rights reserved. | <a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Service</a> | <a href="community-guidelines.html">Community Guidelines</a> | <a href="rules-of-association.html">Rules of Association</a></p>
			</div>
		</div>
	</footer>

	<!-- JavaScript -->
	<script>
		// Update current year in footer
		document.getElementById('current-year').textContent = new Date().getFullYear();

		// Account navigation
		document.querySelectorAll('.nav-link').forEach(link => {
			link.addEventListener('click', function(e) {
				e.preventDefault();
				const target = this.getAttribute('href').substring(1);
				
				// Remove active class from all links and panels
				document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
				document.querySelectorAll('.content-panel').forEach(p => p.classList.remove('active'));
				
				// Add active class to clicked link and corresponding panel
				this.classList.add('active');
				document.getElementById(target).classList.add('active');
			});
		});

		// Event tabs
		document.querySelectorAll('.tab-btn').forEach(btn => {
			btn.addEventListener('click', function() {
				document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
				this.classList.add('active');
			});
		});

		// Form submissions are now handled by the FormManager in script.js

		// Handle password visibility toggle for account page
		document.addEventListener('DOMContentLoaded', function() {
			// Function to setup password toggle
			function setupPasswordToggle(toggleId, inputId, iconId) {
				const toggle = document.getElementById(toggleId);
				const input = document.getElementById(inputId);
				const icon = document.getElementById(iconId);

				if (toggle && input && icon) {
					toggle.addEventListener('click', function() {
						const isPassword = input.type === 'password';
						
						// Toggle input type
						input.type = isPassword ? 'text' : 'password';
						
						// Update icon and aria-label
						if (isPassword) {
							icon.className = 'fas fa-eye-slash';
							toggle.setAttribute('aria-label', 'Hide ' + inputId.replace('Password', ' password'));
						} else {
							icon.className = 'fas fa-eye';
							toggle.setAttribute('aria-label', 'Show ' + inputId.replace('Password', ' password'));
						}
						
						// Focus back to input after toggle
						input.focus();
					});
				}
			}

			// Setup all password toggles
			setupPasswordToggle('currentPassword-toggle', 'currentPassword', 'currentPassword-icon');
			setupPasswordToggle('newPassword-toggle', 'newPassword', 'newPassword-icon');
			setupPasswordToggle('confirmPassword-toggle', 'confirmPassword', 'confirmPassword-icon');
		});
	</script>

	<!-- Member Chatbot -->
	<div class="chatbot-container" id="member-chatbot">
		<div class="chatbot-header">
			<div class="chatbot-avatar">
				<i class="fas fa-user-tie"></i>
			</div>
			<div class="chatbot-info">
				<h4>Member Assistant</h4>
				<p>I can help with member services and website navigation!</p>
			</div>
			<button class="chatbot-toggle" id="member-chatbot-toggle">
				<i class="fas fa-times"></i>
			</button>
		</div>
		<div class="chatbot-messages" id="member-chatbot-messages">
			<div class="chatbot-message bot-message">
				<div class="message-avatar">
					<i class="fas fa-user-tie"></i>
				</div>
				<div class="message-content">
					<p>Welcome back! As a member, I can help you with:</p>
					<ul>
						<li>Account management and settings</li>
						<li>Member resources and benefits</li>
						<li>Chat rooms and discussions</li>
						<li>Events and activities</li>
						<li>Finding other members</li>
						<li>Website navigation</li>
					</ul>
					<p>How can I assist you today? 💜</p>
				</div>
			</div>
		</div>
		<div class="chatbot-input">
			<input type="text" id="member-chatbot-input" placeholder="Ask me anything..." maxlength="500">
			<button id="member-chatbot-send">
				<i class="fas fa-paper-plane"></i>
			</button>
		</div>
	</div>

	<!-- Chatbot Toggle Button -->
	<div class="chatbot-toggle-btn" id="member-chatbot-toggle-btn">
		<i class="fas fa-headset"></i>
		<span>Member Help</span>
	</div>

	<!-- Custom JavaScript -->
	<script src="config.js"></script>
	<script src="script.js"></script>
	
	<!-- My Events functionality -->
	<script>
		// Wait for DOM to be ready and main script.js to initialize
		setTimeout(function() {
			// Initialize My Events when page loads
			MyEventsManager.loadMyEvents();
			
			// Handle tab switching
			const tabButtons = document.querySelectorAll('.events-tabs .tab-btn');
			const tabContents = document.querySelectorAll('.events-tab-content');
			
			tabButtons.forEach(button => {
				button.addEventListener('click', function() {
					const targetTab = this.getAttribute('data-tab');
					
					// Remove active class from all buttons and contents
					tabButtons.forEach(btn => btn.classList.remove('active'));
					tabContents.forEach(content => content.classList.remove('active'));
					
					// Add active class to clicked button and corresponding content
					this.classList.add('active');
					document.getElementById(targetTab + '-events').classList.add('active');
				});
			});
		}, 100);
	</script>
</body>
</html>


