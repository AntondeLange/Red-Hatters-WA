<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Events - Red Hatters WA</title>
	<meta name="description" content="Join Red Hatters events across Western Australia. Find upcoming social gatherings, activities, and special events." />
	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
	
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	
	<!-- Bootstrap 5 CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	
	<!-- Custom CSS -->
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<!-- Header -->
	<header class="header" id="header">
		<nav class="nav container" role="navigation" aria-label="Main navigation">
			<a href="index.html" class="logo" aria-label="Red Hatters WA Home">
				<img src="images/RHSWA-horizontal.png" alt="Red Hatters WA" />
			</a>
			<ul class="nav-menu" role="menubar">
				<li role="none"><a href="index.html" role="menuitem">Home</a></li>
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">About</a>
					<ul class="dropdown-menu" role="menu" aria-label="About submenu">
						<li role="none"><a href="about-us.html" role="menuitem">About Us</a></li>
						<li role="none"><a href="benefits.html" role="menuitem">Benefits</a></li>
						<li role="none"><a href="history.html" role="menuitem">History</a></li>
						<li role="none"><a href="pinkhatters.html" role="menuitem">Pink Hatters</a></li>
						<li role="none"><a href="faq.html" role="menuitem">FAQ</a></li>
						<li role="none"><a href="donate.html" role="menuitem">Donate</a></li>
						<li role="none"><a href="contact-us.html" role="menuitem">Contact Us</a></li>
					</ul>
				</li>
				<!-- Member-only navigation -->
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">Community</a>
					<ul class="dropdown-menu" role="menu" aria-label="Community submenu">
						<li role="none"><a href="members-corner.html" role="menuitem">Members' Corner</a></li>
						<li role="none"><a href="events.html" role="menuitem" aria-current="page">Events</a></li>
						<li role="none"><a href="discussions.html" role="menuitem">Discussions</a></li>
						<li role="none"><a href="news-notes.html" role="menuitem">News and Notes</a></li>
						<li role="none"><a href="newsletter.html" role="menuitem">Newsletter</a></li>
						<li role="none"><a href="website-guide.html" role="menuitem">Website Guide</a></li>
						<li role="none"><a href="offers.html" role="menuitem">Shops & Offers</a></li>
					</ul>
				</li>
				<li class="nav-dropdown" role="none">
					<a href="#" class="dropdown-toggle" role="menuitem" aria-haspopup="true" aria-expanded="false">Organisation & Administration</a>
					<ul class="dropdown-menu" role="menu" aria-label="Organisation & Administration submenu">
						<li role="none"><a href="hatter-customs.html" role="menuitem">Hatter Customs</a></li>
						<li role="none"><a href="rules-of-association.html" role="menuitem">Rules of Association</a></li>
						<li role="none"><a href="member-role.html" role="menuitem">Member Role</a></li>
						<li role="none"><a href="member-handbook.html" role="menuitem">Member Handbook</a></li>
						<li role="none"><a href="emergency-contact.html" role="menuitem">Emergency Contact</a></li>
						<li role="none"><a href="member-search.html" role="menuitem">Member Search</a></li>
						<li role="none"><a href="wa-chapters.html" role="menuitem">WA Chapters</a></li>
					</ul>
				</li>
				<li role="none"><a href="resources.html" role="menuitem">Resources</a></li>
			</ul>
			<div class="nav-buttons">
				<div class="user-display"></div>
				<div class="member-split-button">
					<a href="account.html" class="account-button" aria-label="My Account">My Account</a>
					<a href="#" class="logout-button" onclick="AuthManager.logout()" aria-label="Sign out">Logout</a>
				</div>
			</div>
		</nav>
	</header>

	<!-- Hero Section -->
	<section class="hero">
		<div class="container">
			<h1>Upcoming Events</h1>
			<p>Join us for fun, friendship, and fabulous activities across Western Australia. From social gatherings to special celebrations, there's always something exciting happening!</p>
		</div>
	</section>

	<!-- Calendar Section -->
	<section class="content-section">
		<div class="container">
			<div class="section-header">
				<h2>Event Calendar</h2>
				<p>View all events in our interactive calendar</p>
			</div>
			<div class="calendar-container">
				<div class="calendar-header">
					<button class="calendar-nav" id="prevMonth">
						<i class="fas fa-chevron-left"></i>
					</button>
					<div class="calendar-title-container">
						<select id="monthSelect" class="calendar-select">
							<option value="0">January</option>
							<option value="1">February</option>
							<option value="2">March</option>
							<option value="3">April</option>
							<option value="4">May</option>
							<option value="5">June</option>
							<option value="6">July</option>
							<option value="7">August</option>
							<option value="8">September</option>
							<option value="9">October</option>
							<option value="10">November</option>
							<option value="11">December</option>
						</select>
						<select id="yearSelect" class="calendar-select">
							<option value="2023">2023</option>
							<option value="2024">2024</option>
							<option value="2025">2025</option>
							<option value="2026">2026</option>
							<option value="2027">2027</option>
						</select>
					</div>
					<button class="calendar-nav" id="nextMonth">
						<i class="fas fa-chevron-right"></i>
					</button>
				</div>
				<div class="calendar-grid" id="calendarGrid">
					<!-- Calendar will be populated by JavaScript -->
				</div>
			</div>
		</div>
	</section>

	<!-- Event Categories Section -->
	<section class="content-section" style="background: var(--light-gray);">
		<div class="container">
			<div class="section-header">
				<h2>Event Categories</h2>
				<p>Discover the different types of events we organize</p>
			</div>
			<div class="features-grid">
				<div class="feature-card">
					<div class="feature-icon">üçΩÔ∏è</div>
					<h3>Dining Events</h3>
					<p>Enjoy delicious meals and great company at our regular dining events, high teas, and special restaurant outings.</p>
				</div>
				<div class="feature-card">
					<div class="feature-icon">üé®</div>
					<h3>Craft Workshops</h3>
					<p>Unleash your creativity with our hands-on craft workshops, art classes, and DIY project sessions.</p>
				</div>
				<div class="feature-card">
					<div class="feature-icon">‚úàÔ∏è</div>
					<h3>Travel Adventures</h3>
					<p>Explore new places and create lasting memories with our organized trips and travel experiences.</p>
				</div>
				<div class="feature-card">
					<div class="feature-icon">üéâ</div>
					<h3>Social Gatherings</h3>
					<p>Connect with fellow members at our social events, parties, and community celebrations.</p>
				</div>
				<div class="feature-card">
					<div class="feature-icon">üé≠</div>
					<h3>Cultural Events</h3>
					<p>Experience the arts with visits to theaters, museums, galleries, and cultural performances.</p>
				</div>
				<div class="feature-card">
					<div class="feature-icon">üéä</div>
					<h3>Special Celebrations</h3>
					<p>Join us for holiday parties, milestone celebrations, and special Red Hat Society events.</p>
				</div>
			</div>
		</div>
	</section>

	<!-- Event Filter Section -->
	<section class="content-section">
		<div class="container">
			<div class="section-header">
				<h2>Find Your Perfect Event</h2>
				<p>Filter events by category to find activities that interest you most</p>
			</div>
			<div class="filter-buttons">
				<button class="filter-btn active" data-filter="all">All Events</button>
				<button class="filter-btn" data-filter="social">Social</button>
				<button class="filter-btn" data-filter="travel">Travel</button>
				<button class="filter-btn" data-filter="crafts">Crafts</button>
				<button class="filter-btn" data-filter="dining">Dining</button>
				<button class="filter-btn" data-filter="special">Special</button>
			</div>
		</div>
	</section>

	<!-- Events Grid Section -->
	<section class="content-section" style="background: var(--light-gray);">
		<div class="container">
			<div class="section-header">
				<h2>Upcoming Events</h2>
				<p>Don't miss out on these exciting activities and gatherings</p>
			</div>
			<div class="events-grid" id="eventsGrid">
				<!-- Events will be populated by JavaScript -->
			</div>
		</div>
	</section>

	<!-- Create Event Form Section -->
	<section class="content-section">
		<div class="container">
			<div class="section-header">
				<h2>Create New Event</h2>
				<p>Submit a new event to share with your fellow Red Hatters</p>
			</div>
			<div class="form-container">
				<form id="createEventForm" class="event-form" novalidate>
					<div class="form-row">
						<div class="form-group">
							<label for="eventTitle">Event Title *</label>
							<input type="text" id="eventTitle" name="eventTitle" required minlength="3" maxlength="100" placeholder="Enter event title">
							<div class="form-error"></div>
						</div>
						<div class="form-group">
							<label for="eventDate">Event Date *</label>
							<input type="date" id="eventDate" name="eventDate" required>
							<div class="form-error"></div>
						</div>
					</div>
					
					<div class="form-row">
						<div class="form-group">
							<label for="eventTime">Event Time *</label>
							<input type="time" id="eventTime" name="eventTime" required>
							<div class="form-error"></div>
						</div>
						<div class="form-group">
							<label for="eventLocation">Location *</label>
							<input type="text" id="eventLocation" name="eventLocation" required minlength="3" maxlength="200" placeholder="Enter event location">
							<div class="form-error"></div>
						</div>
					</div>
					
					<div class="form-row">
						<div class="form-group">
							<label for="eventCategory">Category *</label>
							<select id="eventCategory" name="eventCategory" required>
								<option value="">Select a category</option>
								<option value="social">Social</option>
								<option value="travel">Travel</option>
								<option value="crafts">Crafts</option>
								<option value="dining">Dining</option>
								<option value="special">Special</option>
								<option value="red-hat-event">Red Hat Event</option>
								<option value="birthday">Birthday</option>
								<option value="public-holiday">Public Holiday</option>
							</select>
							<div class="form-error"></div>
						</div>
						<div class="form-group">
							<label for="eventAttendees">Expected Attendees</label>
							<input type="number" id="eventAttendees" name="eventAttendees" min="1" max="1000" placeholder="Number of expected attendees">
							<div class="form-error"></div>
						</div>
					</div>
					
					<div class="form-group">
						<label for="eventDescription">Event Description *</label>
						<textarea id="eventDescription" name="eventDescription" required minlength="10" maxlength="1000" rows="4" placeholder="Describe your event, what to expect, and any special requirements..."></textarea>
						<div class="form-error"></div>
					</div>
					
					<div class="form-row">
						<div class="form-group">
							<label for="organizerName">Organizer Name *</label>
							<input type="text" id="organizerName" name="organizerName" required minlength="2" maxlength="100" placeholder="Your name">
							<div class="form-error"></div>
						</div>
						<div class="form-group">
							<label for="organizerEmail">Contact Email *</label>
							<input type="email" id="organizerEmail" name="organizerEmail" required placeholder="your.email@example.com">
							<div class="form-error"></div>
						</div>
					</div>
					
					<div class="form-group">
						<label for="contactPhone">Contact Phone</label>
						<input type="tel" id="contactPhone" name="contactPhone" placeholder="Optional phone number">
						<div class="form-error"></div>
					</div>
					
					<div class="form-group">
						<label class="checkbox-label">
							<input type="checkbox" id="eventPublic" name="eventPublic">
							<span class="checkmark"></span>
							Make this a public event (visible to non-members)
						</label>
					</div>
					
					<div class="form-group">
						<label class="checkbox-label">
							<input type="checkbox" id="termsAgreed" name="termsAgreed" required>
							<span class="checkmark"></span>
							I agree to the <a href="terms.html" target="_blank">Terms of Service</a> and understand that all events must comply with Red Hatters WA guidelines *
						</label>
						<div class="form-error"></div>
					</div>
					
					<div class="form-actions">
						<button type="submit" class="btn btn-primary">
							<i class="fas fa-calendar-plus"></i>
							Submit Event
						</button>
						<button type="reset" class="btn btn-secondary">
							<i class="fas fa-undo"></i>
							Reset Form
						</button>
					</div>
				</form>
			</div>
		</div>
	</section>

	<!-- Footer -->
	<footer class="footer">
		<div class="container">
		<div class="footer-content">
			<div class="footer-section footer-social">
				<h3>Connect With Us</h3>
				<div class="social-links">
					<a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
					<a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
					<a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
					<a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
				</div>
				<a href="register.html" class="footer-cta-button">Join Our Community</a>
			</div>
			<div class="footer-section footer-links">
				<h3>Quick Links</h3>
				<div class="quick-links">
					<a href="index.html">Home</a>
					<a href="about-us.html">About Us</a>
					<a href="benefits.html">Benefits</a>
					<a href="faq.html">FAQ</a>
					<a href="wa-chapters.html">WA Chapters</a>
					<a href="events.html">Events</a>
					<a href="resources.html">Resources</a>
					<a href="contact-us.html">Contact Us</a>
				</div>
			</div>
			<div class="footer-section footer-center">
				<img src="images/ARHSWA 1.png" alt="ARHSWA 1 Logo" class="footer-logo-img">
				<p>Red Hatters WA</p>
				<p>Fun ‚Ä¢ Friendship ‚Ä¢ Frivolity</p>
			</div>
			<div class="footer-section footer-newsletter">
				<h3>Stay Updated</h3>
				<p>Subscribe to our newsletter for the latest events and news!</p>
				<form class="newsletter-form">
					<input type="email" placeholder="Enter your email" required>
					<button type="submit">Subscribe</button>
				</form>
			</div>
		</div>
			<div class="footer-bottom">
				<p>&copy; <span id="current-year">2025</span> Red Hatters WA. All rights reserved. | <a href="privacy.html">Privacy Policy</a> | <a href="terms.html">Terms of Service</a> | <a href="community-guidelines.html">Community Guidelines</a> | <a href="rules-of-association.html">Rules of Association</a></p>
			</div>
		</div>
	</footer>

	<!-- JavaScript -->
	<script>
		// Update current year in footer
		document.getElementById('current-year').textContent = new Date().getFullYear();

		// Comprehensive event data including Red Hat events, birthdays, and public holidays
		const events = [
			// Red Hat Events - December 2024
			{
				id: "event-001",
				title: "Christmas High Tea",
				date: "2024-12-15",
				time: "2:00 PM",
				location: "The Ritz Carlton, Perth",
				description: "Join us for a festive high tea celebration with delicious treats and holiday cheer!",
				category: "red-hat-event",
				attendees: 25,
				image: "images/IMG_5259.jpg"
			},
			{
				id: "event-002",
				title: "Craft Workshop: Holiday Decorations",
				date: "2024-12-20",
				time: "10:00 AM",
				location: "Community Center, Fremantle",
				description: "Create beautiful holiday decorations and crafts with your Red Hat sisters.",
				category: "crafts",
				attendees: 15,
				image: "images/IMG_5259.jpg"
			},
			{
				id: "event-003",
				title: "New Year's Eve Gala",
				date: "2024-12-31",
				time: "7:00 PM",
				location: "Crown Towers, Perth",
				description: "Ring in the New Year with style and elegance at our annual gala celebration!",
				category: "red-hat-event",
				attendees: 50,
				image: "images/IMG_5259.jpg"
			},
			
			// Red Hat Events - January 2025
			{
				id: "event-004",
				title: "New Year Brunch",
				date: "2025-01-05",
				time: "11:00 AM",
				location: "The Swan Hotel, Perth",
				description: "Start the year with a delicious brunch and great company!",
				category: "red-hat-event",
				attendees: 20,
				image: "images/IMG_5259.jpg"
			},
			{
				id: "event-005",
				title: "Summer Garden Party",
				date: "2025-01-18",
				time: "3:00 PM",
				location: "Kings Park, Perth",
				description: "Enjoy a beautiful summer afternoon in the park with your Red Hat sisters.",
				category: "red-hat-event",
				attendees: 30,
				image: "images/IMG_5259.jpg"
			},
			
			// Red Hat Events - February 2025
			{
				id: "event-006",
				title: "Valentine's Day Lunch",
				date: "2025-02-14",
				time: "12:00 PM",
				location: "The George, Perth",
				description: "Celebrate love and friendship with a special Valentine's Day lunch.",
				category: "red-hat-event",
				attendees: 18,
				image: "images/IMG_5259.jpg"
			},
			{
				id: "event-007",
				title: "Fremantle Markets Adventure",
				date: "2025-02-22",
				time: "9:00 AM",
				location: "Fremantle Markets",
				description: "Explore the vibrant markets and enjoy local food and crafts.",
				category: "red-hat-event",
				attendees: 12,
				image: "images/IMG_5259.jpg"
			},
			
			// Member Birthdays
			{
				id: "event-008",
				title: "Margaret's Birthday",
				date: "2024-12-08",
				time: "All Day",
				location: "Celebration",
				description: "Happy Birthday to our wonderful member Margaret!",
				category: "birthday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			{
				id: "event-009",
				title: "Susan's Birthday",
				date: "2024-12-12",
				time: "All Day",
				location: "Celebration",
				description: "Wishing Susan a fabulous birthday!",
				category: "birthday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Janet's Birthday",
				date: "2025-01-15",
				time: "All Day",
				location: "Celebration",
				description: "Happy Birthday to our lovely member Janet!",
				category: "birthday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Linda's Birthday",
				date: "2025-01-28",
				time: "All Day",
				location: "Celebration",
				description: "Celebrating Linda's special day!",
				category: "birthday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Patricia's Birthday",
				date: "2025-02-03",
				time: "All Day",
				location: "Celebration",
				description: "Happy Birthday Patricia!",
				category: "birthday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Helen's Birthday",
				date: "2025-02-17",
				time: "All Day",
				location: "Celebration",
				description: "Wishing Helen a wonderful birthday!",
				category: "birthday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			
			// Australian Public Holidays
			{
				title: "Boxing Day",
				date: "2024-12-26",
				time: "All Day",
				location: "Australia",
				description: "Boxing Day - Australian Public Holiday",
				category: "public-holiday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "New Year's Day",
				date: "2025-01-01",
				time: "All Day",
				location: "Australia",
				description: "New Year's Day - Australian Public Holiday",
				category: "public-holiday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Australia Day",
				date: "2025-01-27",
				time: "All Day",
				location: "Australia",
				description: "Australia Day - Australian Public Holiday",
				category: "public-holiday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Labour Day (WA)",
				date: "2025-03-03",
				time: "All Day",
				location: "Western Australia",
				description: "Labour Day - Western Australia Public Holiday",
				category: "public-holiday",
				attendees: 0,
				image: "images/IMG_5259.jpg"
			},
			
			// Additional Red Hat Events
			{
				title: "Book Club Meeting",
				date: "2025-01-10",
				time: "2:00 PM",
				location: "Perth City Library",
				description: "Monthly book club discussion - this month's book: 'The Seven Sisters'",
				category: "red-hat-event",
				attendees: 8,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Movie Night",
				date: "2025-01-25",
				time: "6:30 PM",
				location: "Hoyts Cinema, Carousel",
				description: "Watch the latest romantic comedy with your Red Hat sisters!",
				category: "red-hat-event",
				attendees: 15,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Art Gallery Tour",
				date: "2025-02-08",
				time: "10:00 AM",
				location: "Art Gallery of Western Australia",
				description: "Explore the latest exhibition with a guided tour.",
				category: "red-hat-event",
				attendees: 12,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "High Tea at The Windsor",
				date: "2025-02-20",
				time: "2:30 PM",
				location: "The Windsor Hotel, Perth",
				description: "Elegant high tea with traditional scones and finger sandwiches.",
				category: "red-hat-event",
				attendees: 20,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "New Year's Eve Dinner",
				date: "2024-12-31",
				time: "7:00 PM",
				location: "Crown Perth",
				description: "Ring in the new year with a fabulous dinner and celebration!",
				category: "dining",
				attendees: 40,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Book Club Meeting",
				date: "2025-01-10",
				time: "7:00 PM",
				location: "Mandurah Library",
				description: "Discuss this month's book selection and enjoy great conversation.",
				category: "social",
				attendees: 12,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Wine Tasting Tour",
				date: "2025-01-25",
				time: "11:00 AM",
				location: "Swan Valley Wineries",
				description: "Explore the beautiful Swan Valley and taste some of WA's finest wines.",
				category: "travel",
				attendees: 20,
				image: "images/IMG_5259.jpg"
			},
			{
				title: "Valentine's Day Craft Party",
				date: "2025-02-14",
				time: "2:00 PM",
				location: "Bunbury Arts Centre",
				description: "Create beautiful Valentine's Day crafts and celebrate love and friendship.",
				category: "crafts",
				attendees: 18,
				image: "images/IMG_5259.jpg"
			}
		];

		// RSVP System is now centralized in script.js
		
		// Handle RSVP button click
		function handleRSVP(eventId) {
			const user = RSVPSystem.getCurrentUser();
			const hasRSVPd = RSVPSystem.hasUserRSVPd(eventId);
			const currentStatus = RSVPSystem.getUserRSVPStatus(eventId);
			
			if (hasRSVPd) {
				// Show RSVP management modal
				showRSVPModal(eventId, currentStatus);
			} else {
				// RSVP to event
				RSVPSystem.rsvpToEvent(eventId, 'yes');
				updateEventDisplay(eventId);
				showRSVPConfirmation('You have successfully RSVP\'d to this event!');
				
				// Notify My Events to refresh if on account page
				if (typeof MyEventsManager !== 'undefined' && MyEventsManager.loadMyEvents) {
					MyEventsManager.loadMyEvents();
				}
			}
		}
		
		// Show RSVP management modal
		function showRSVPModal(eventId, currentStatus) {
			const event = events.find(e => e.id === eventId);
			const rsvpData = RSVPSystem.getEventRSVP(eventId);
			
			const modal = document.createElement('div');
			modal.className = 'rsvp-modal';
			modal.innerHTML = `
				<div class="rsvp-modal-content">
					<div class="rsvp-modal-header">
						<h3>RSVP Management</h3>
						<button class="rsvp-modal-close">&times;</button>
					</div>
					<div class="rsvp-modal-body">
						<h4>${event.title}</h4>
						<p><strong>Date:</strong> ${formatDate(event.date)}</p>
						<p><strong>Time:</strong> ${event.time}</p>
						<p><strong>Location:</strong> ${event.location}</p>
						
						<div class="rsvp-status">
							<p><strong>Your Status:</strong> <span class="status-${currentStatus}">${currentStatus.toUpperCase()}</span></p>
						</div>
						
						<div class="rsvp-actions">
							<button class="btn btn-success" onclick="updateRSVP('${eventId}', 'yes')">Confirm Attendance</button>
							<button class="btn btn-warning" onclick="updateRSVP('${eventId}', 'maybe')">Maybe</button>
							<button class="btn btn-danger" onclick="updateRSVP('${eventId}', 'no')">Cancel RSVP</button>
						</div>
						
						<div class="rsvp-attendees">
							<h5>Attendees (${rsvpData.totalCount})</h5>
							<div class="attendees-list">
								${rsvpData.attendees.map(attendee => `
									<div class="attendee-item">
										<span class="attendee-name">${attendee.name}</span>
										<span class="attendee-status status-${attendee.status}">${attendee.status}</span>
									</div>
								`).join('')}
							</div>
						</div>
					</div>
				</div>
			`;
			
			document.body.appendChild(modal);
			
			// Close modal handlers
			modal.querySelector('.rsvp-modal-close').onclick = () => modal.remove();
			modal.onclick = (e) => {
				if (e.target === modal) modal.remove();
			};
		}
		
		// Update RSVP status
		function updateRSVP(eventId, status) {
			RSVPSystem.rsvpToEvent(eventId, status);
			updateEventDisplay(eventId);
			
			// Close modal
			document.querySelector('.rsvp-modal').remove();
			
			const statusMessages = {
				'yes': 'You have confirmed your attendance!',
				'maybe': 'You have marked yourself as maybe attending.',
				'no': 'You have cancelled your RSVP.'
			};
			
			showRSVPConfirmation(statusMessages[status]);
			
			// Notify My Events to refresh if on account page
			if (typeof MyEventsManager !== 'undefined' && MyEventsManager.loadMyEvents) {
				MyEventsManager.loadMyEvents();
			}
		}
		
		// Update event display with RSVP data
		function updateEventDisplay(eventId) {
			const rsvpData = RSVPSystem.getEventRSVP(eventId);
			const hasRSVPd = RSVPSystem.hasUserRSVPd(eventId);
			const currentStatus = RSVPSystem.getUserRSVPStatus(eventId);
			
			// Find the event card and update it
			const eventCard = document.querySelector(`[data-event-id="${eventId}"]`).closest('.event-card');
			const attendeesSpan = eventCard.querySelector('.event-attendees');
			const rsvpBtn = eventCard.querySelector('.rsvp-btn');
			const rsvpText = rsvpBtn.querySelector('.rsvp-text');
			const rsvpCount = rsvpBtn.querySelector('.rsvp-count');
			
			// Update attendees count
			attendeesSpan.innerHTML = `<i class="fas fa-users"></i> ${rsvpData.totalCount} attending`;
			
			// Update RSVP button
			if (hasRSVPd) {
				rsvpBtn.className = 'btn btn-success rsvp-btn';
				rsvpText.textContent = `RSVP'd (${currentStatus})`;
				rsvpCount.style.display = 'inline';
			} else {
				rsvpBtn.className = 'btn btn-primary rsvp-btn';
				rsvpText.textContent = 'RSVP Now';
				rsvpCount.style.display = 'none';
			}
		}
		
		// Show RSVP confirmation
		function showRSVPConfirmation(message) {
			const notification = document.createElement('div');
			notification.className = 'rsvp-notification';
			notification.textContent = message;
			document.body.appendChild(notification);
			
			setTimeout(() => {
				notification.remove();
			}, 3000);
		}
		
		// Initialize RSVP system
		function initializeRSVP() {
			// Update all event displays with current RSVP data
			events.forEach(event => {
				updateEventDisplay(event.id);
			});
		}

		// Filter functionality
		document.querySelectorAll('.filter-btn').forEach(btn => {
			btn.addEventListener('click', function() {
				document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
				this.classList.add('active');
				
				const filter = this.getAttribute('data-filter');
				filterEvents(filter);
			});
		});

		function filterEvents(filter) {
			const eventsGrid = document.getElementById('eventsGrid');
			const filteredEvents = filter === 'all' ? events : events.filter(event => event.category === filter);
			
			eventsGrid.innerHTML = filteredEvents.map(event => `
				<div class="event-card">
					<div class="event-image-container">
						<img src="${event.image}" alt="${event.title}" class="event-image">
						<div class="event-category-badge">${event.category.toUpperCase()}</div>
					</div>
					<div class="event-content">
						<div class="event-date">${formatDate(event.date)}</div>
						<h3 class="event-title">${event.title}</h3>
						<div class="event-location">
							<i class="fas fa-map-marker-alt"></i> ${event.location}
						</div>
						<p class="event-description">${event.description}</p>
						<div class="event-details">
							<span class="event-time">
								<i class="fas fa-clock"></i> ${event.time}
							</span>
							<span class="event-attendees">
								<i class="fas fa-users"></i> ${event.attendees} attending
							</span>
						</div>
						<button class="btn btn-primary rsvp-btn" data-event-id="${event.id}" onclick="handleRSVP('${event.id}')">
							<span class="rsvp-text">RSVP Now</span>
							<span class="rsvp-count" style="display: none;">(${event.attendees})</span>
						</button>
					</div>
				</div>
			`).join('');
		}

		function formatDate(dateString) {
			const date = new Date(dateString);
			return date.toLocaleDateString('en-AU', { 
				day: 'numeric', 
				month: 'short',
				year: 'numeric'
			});
		}

		// Calendar functionality
		let currentDate = new Date();
		let currentMonth = currentDate.getMonth();
		let currentYear = currentDate.getFullYear();

		function renderCalendar() {
			const calendarGrid = document.getElementById('calendarGrid');
			
			// Update the select dropdowns to match current month and year
			document.getElementById('monthSelect').value = currentMonth;
			document.getElementById('yearSelect').value = currentYear;

			const firstDay = new Date(currentYear, currentMonth, 1);
			const lastDay = new Date(currentYear, currentMonth + 1, 0);
			const daysInMonth = lastDay.getDate();
			const startingDay = firstDay.getDay();

			// Days of week headers with weekend styling
			const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
			let calendarHTML = dayHeaders.map((day, index) => {
				const isWeekend = index === 0 || index === 6; // Sunday or Saturday
				const headerClass = isWeekend ? 'calendar-day-header weekend' : 'calendar-day-header';
				return `<div class="${headerClass}">${day}</div>`;
			}).join('');

			// Previous month days
			const prevMonth = new Date(currentYear, currentMonth, 0);
			for (let i = startingDay - 1; i >= 0; i--) {
				const dayNumber = prevMonth.getDate() - i;
				const dayOfWeek = (i + 1) % 7;
				const isWeekend = dayOfWeek === 0 || dayOfWeek === 6; // Sunday or Saturday
				const dayClass = isWeekend ? 'calendar-day other-month weekend' : 'calendar-day other-month';
				calendarHTML += `<div class="${dayClass}">${dayNumber}</div>`;
			}

			// Current month days
			for (let day = 1; day <= daysInMonth; day++) {
				const dateString = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
				const hasEvent = events.some(event => event.date === dateString);
				const isToday = new Date().toDateString() === new Date(currentYear, currentMonth, day).toDateString();
				const dayOfWeek = new Date(currentYear, currentMonth, day).getDay();
				const isWeekend = dayOfWeek === 0 || dayOfWeek === 6; // Sunday or Saturday
				
				let dayClass = 'calendar-day';
				if (isToday) dayClass += ' today';
				if (hasEvent) dayClass += ' has-event';
				if (isWeekend) dayClass += ' weekend';
				
				calendarHTML += `<div class="${dayClass}" data-date="${dateString}">${day}</div>`;
			}

			// Next month days
			const remainingDays = 42 - (startingDay + daysInMonth);
			for (let day = 1; day <= remainingDays; day++) {
				const dayOfWeek = (startingDay + daysInMonth + day - 1) % 7;
				const isWeekend = dayOfWeek === 0 || dayOfWeek === 6; // Sunday or Saturday
				const dayClass = isWeekend ? 'calendar-day other-month weekend' : 'calendar-day other-month';
				calendarHTML += `<div class="${dayClass}">${day}</div>`;
			}

			calendarGrid.innerHTML = calendarHTML;

			// Add click and hover handlers for days with events
			document.querySelectorAll('.calendar-day.has-event').forEach(day => {
				const date = day.getAttribute('data-date');
				const dayEvents = events.filter(event => event.date === date);
				
				// Click handler for modal
				day.addEventListener('click', function() {
					showEventModal(dayEvents);
				});
				
				// Hover handler for tooltip
				day.addEventListener('mouseenter', function() {
					showEventTooltip(this, dayEvents);
				});
				
				day.addEventListener('mouseleave', function() {
					hideEventTooltip();
				});
			});
		}

		function showEventModal(dayEvents) {
			const modal = document.createElement('div');
			modal.className = 'event-modal';
			modal.innerHTML = `
				<div class="modal-content">
					<span class="modal-close">&times;</span>
					<h3>Events for ${formatDate(dayEvents[0].date)}</h3>
					${dayEvents.map(event => `
						<div class="modal-event">
							<h4>${event.title}</h4>
							<p><i class="fas fa-clock"></i> ${event.time}</p>
							<p><i class="fas fa-map-marker-alt"></i> ${event.location}</p>
							<p>${event.description}</p>
						</div>
					`).join('')}
				</div>
			`;
			document.body.appendChild(modal);

			// Close modal handlers
			modal.querySelector('.modal-close').addEventListener('click', () => modal.remove());
			modal.addEventListener('click', (e) => {
				if (e.target === modal) modal.remove();
			});
		}

		function showEventTooltip(dayElement, dayEvents) {
			// Remove any existing tooltip
			hideEventTooltip();
			
			const tooltip = document.createElement('div');
			tooltip.className = 'event-tooltip';
			tooltip.innerHTML = `
				<div class="tooltip-content">
					<div class="tooltip-header">
						<h4>${formatDate(dayEvents[0].date)}</h4>
						<span class="event-count">${dayEvents.length} event${dayEvents.length > 1 ? 's' : ''}</span>
					</div>
					<div class="tooltip-events">
						${dayEvents.slice(0, 3).map(event => `
							<div class="tooltip-event">
								<strong>${event.title}</strong>
								<div class="tooltip-event-details">
									<span><i class="fas fa-clock"></i> ${event.time}</span>
									<span><i class="fas fa-map-marker-alt"></i> ${event.location}</span>
								</div>
							</div>
						`).join('')}
						${dayEvents.length > 3 ? `<div class="tooltip-more">+${dayEvents.length - 3} more events</div>` : ''}
					</div>
					<div class="tooltip-footer">Click for full details</div>
				</div>
			`;
			
			document.body.appendChild(tooltip);
			
			// Position tooltip relative to the day element
			const rect = dayElement.getBoundingClientRect();
			const tooltipRect = tooltip.getBoundingClientRect();
			
			// Position above the element by default
			let top = rect.top - tooltipRect.height - 10;
			let left = rect.left + (rect.width / 2) - (tooltipRect.width / 2);
			
			// Adjust if tooltip goes off screen
			if (top < 10) {
				top = rect.bottom + 10; // Show below instead
			}
			if (left < 10) {
				left = 10;
			}
			if (left + tooltipRect.width > window.innerWidth - 10) {
				left = window.innerWidth - tooltipRect.width - 10;
			}
			
			tooltip.style.top = top + window.scrollY + 'px';
			tooltip.style.left = left + 'px';
			
			// Add fade-in animation
			setTimeout(() => {
				tooltip.classList.add('show');
			}, 10);
		}

		function hideEventTooltip() {
			const existingTooltip = document.querySelector('.event-tooltip');
			if (existingTooltip) {
				existingTooltip.classList.remove('show');
				setTimeout(() => {
					existingTooltip.remove();
				}, 200);
			}
		}

		// Calendar navigation
		document.getElementById('prevMonth').addEventListener('click', function() {
			currentMonth--;
			if (currentMonth < 0) {
				currentMonth = 11;
				currentYear--;
			}
			renderCalendar();
		});

		document.getElementById('nextMonth').addEventListener('click', function() {
			currentMonth++;
			if (currentMonth > 11) {
				currentMonth = 0;
				currentYear++;
			}
			renderCalendar();
		});

		// Month and year select handlers
		document.getElementById('monthSelect').addEventListener('change', function() {
			currentMonth = parseInt(this.value);
			renderCalendar();
		});

		document.getElementById('yearSelect').addEventListener('change', function() {
			currentYear = parseInt(this.value);
			renderCalendar();
		});

		// Event Creation Form Handler
		document.addEventListener('DOMContentLoaded', function() {
			const createEventForm = document.getElementById('createEventForm');
			if (createEventForm) {
				createEventForm.addEventListener('submit', function(e) {
					e.preventDefault();
					
					if (validateEventForm()) {
						submitEventForm();
					}
				});
			}
		});

		function validateEventForm() {
			const form = document.getElementById('createEventForm');
			const formData = new FormData(form);
			let isValid = true;
			
			// Clear previous errors
			document.querySelectorAll('.form-error').forEach(error => {
				error.textContent = '';
				error.classList.remove('show');
			});
			
			// Required fields validation
			const requiredFields = ['eventTitle', 'eventDate', 'eventTime', 'eventLocation', 'eventCategory', 'eventDescription', 'organizerName', 'organizerEmail', 'termsAgreed'];
			
			requiredFields.forEach(fieldName => {
				const field = document.getElementById(fieldName);
				const value = field.type === 'checkbox' ? field.checked : field.value.trim();
				
				if (!value) {
					showFieldError(fieldName, 'This field is required');
					isValid = false;
				}
			});
			
			// Date validation
			const eventDate = document.getElementById('eventDate').value;
			const selectedDate = new Date(eventDate);
			const today = new Date();
			today.setHours(0, 0, 0, 0);
			
			if (selectedDate < today) {
				showFieldError('eventDate', 'Event date cannot be in the past');
				isValid = false;
			}
			
			// Email validation
			const email = document.getElementById('organizerEmail').value;
			const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			if (email && !emailRegex.test(email)) {
				showFieldError('organizerEmail', 'Please enter a valid email address');
				isValid = false;
			}
			
			return isValid;
		}

		function showFieldError(fieldName, message) {
			const field = document.getElementById(fieldName);
			const errorElement = field.parentNode.querySelector('.form-error');
			if (errorElement) {
				errorElement.textContent = message;
				errorElement.classList.add('show');
			}
		}

		function submitEventForm() {
			const form = document.getElementById('createEventForm');
			const submitButton = form.querySelector('button[type="submit"]');
			const formData = new FormData(form);
			
			// Set loading state
			submitButton.disabled = true;
			submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
			
			// Create event object
			const eventData = {
				title: formData.get('eventTitle'),
				date: formData.get('eventDate'),
				time: formData.get('eventTime'),
				location: formData.get('eventLocation'),
				category: formData.get('eventCategory'),
				description: formData.get('eventDescription'),
				attendees: parseInt(formData.get('eventAttendees')) || 0,
				organizerName: formData.get('organizerName'),
				organizerEmail: formData.get('organizerEmail'),
				contactPhone: formData.get('contactPhone') || '',
				isPublic: formData.get('eventPublic') === 'on',
				termsAgreed: formData.get('termsAgreed') === 'on',
				image: 'images/IMG_5259.jpg', // Default image
				submittedBy: AuthManager.getUsername() || 'Anonymous',
				submissionDate: new Date().toISOString()
			};
			
			// Simulate API call (replace with actual backend integration)
			setTimeout(() => {
				// Add to events array for immediate display
				events.push(eventData);
				
				// Reset form
				form.reset();
				
				// Reset button
				submitButton.disabled = false;
				submitButton.innerHTML = '<i class="fas fa-calendar-plus"></i> Submit Event';
				
				// Show success message
				if (typeof Utils !== 'undefined' && Utils.showToast) {
					Utils.showToast('Event submitted successfully! It will be reviewed before being added to the calendar.', 'success');
				} else {
					alert('Event submitted successfully! It will be reviewed before being added to the calendar.');
				}
				
				// Refresh calendar to show new event
				renderCalendar();
				
			}, 1500);
		}

		// Initialize
		window.addEventListener('load', function() {
			filterEvents('all');
			renderCalendar();
		});
	</script>
	
	<!-- Bootstrap 5 JavaScript -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	
	<!-- Custom JavaScript -->
	<script src="script.js"></script>
</body>
</html>
